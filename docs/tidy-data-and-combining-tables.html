<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Tidy data and combining tables | Data Analysis and Visualization in R (IN2339)</title>
  <meta name="description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with data.table, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Tidy data and combining tables | Data Analysis and Visualization in R (IN2339)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with data.table, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Tidy data and combining tables | Data Analysis and Visualization in R (IN2339)" />
  
  <meta name="twitter:description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with data.table, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown." />
  



<meta name="date" content="2024-02-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-wrangling.html"/>
<link rel="next" href="low-dimensional-visualizations.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis and Visualization in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#data-science-what-and-why"><i class="fa fa-check"></i>Data Science: What and why?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#what-you-will-learn-and-not-learn"><i class="fa fa-check"></i>What you will learn and not learn</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#the-r-language"><i class="fa fa-check"></i>The R language</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#course-overview"><i class="fa fa-check"></i>Course overview</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#complementary-reading"><i class="fa fa-check"></i>Complementary reading</a></li>
</ul></li>
<li class="part"><span><b>I Get</b></span></li>
<li class="chapter" data-level="1" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>1</b> R basics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="r-basics.html"><a href="r-basics.html#rstudio"><i class="fa fa-check"></i><b>1.1</b> Rstudio</a></li>
<li class="chapter" data-level="1.2" data-path="r-basics.html"><a href="r-basics.html#first-steps-with-r"><i class="fa fa-check"></i><b>1.2</b> First steps with R</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="r-basics.html"><a href="r-basics.html#objects"><i class="fa fa-check"></i><b>1.2.1</b> Objects</a></li>
<li class="chapter" data-level="1.2.2" data-path="r-basics.html"><a href="r-basics.html#the-workspace"><i class="fa fa-check"></i><b>1.2.2</b> The workspace</a></li>
<li class="chapter" data-level="1.2.3" data-path="r-basics.html"><a href="r-basics.html#functions"><i class="fa fa-check"></i><b>1.2.3</b> Functions</a></li>
<li class="chapter" data-level="1.2.4" data-path="r-basics.html"><a href="r-basics.html#other-prebuilt-objects"><i class="fa fa-check"></i><b>1.2.4</b> Other prebuilt objects</a></li>
<li class="chapter" data-level="1.2.5" data-path="r-basics.html"><a href="r-basics.html#variable-names"><i class="fa fa-check"></i><b>1.2.5</b> Variable names</a></li>
<li class="chapter" data-level="1.2.6" data-path="r-basics.html"><a href="r-basics.html#reusing-scripts"><i class="fa fa-check"></i><b>1.2.6</b> Reusing scripts</a></li>
<li class="chapter" data-level="1.2.7" data-path="r-basics.html"><a href="r-basics.html#commenting-your-code"><i class="fa fa-check"></i><b>1.2.7</b> Commenting your code</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-basics.html"><a href="r-basics.html#data-types"><i class="fa fa-check"></i><b>1.3</b> Data types</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>1.3.1</b> Data frames</a></li>
<li class="chapter" data-level="1.3.2" data-path="r-basics.html"><a href="r-basics.html#examining-an-object"><i class="fa fa-check"></i><b>1.3.2</b> Examining an object</a></li>
<li class="chapter" data-level="1.3.3" data-path="r-basics.html"><a href="r-basics.html#the-accessor"><i class="fa fa-check"></i><b>1.3.3</b> The accessor: <code>$</code></a></li>
<li class="chapter" data-level="1.3.4" data-path="r-basics.html"><a href="r-basics.html#vectors-numerics-characters-and-logical"><i class="fa fa-check"></i><b>1.3.4</b> Vectors: numerics, characters, and logical</a></li>
<li class="chapter" data-level="1.3.5" data-path="r-basics.html"><a href="r-basics.html#factors"><i class="fa fa-check"></i><b>1.3.5</b> Factors</a></li>
<li class="chapter" data-level="1.3.6" data-path="r-basics.html"><a href="r-basics.html#lists"><i class="fa fa-check"></i><b>1.3.6</b> Lists</a></li>
<li class="chapter" data-level="1.3.7" data-path="r-basics.html"><a href="r-basics.html#matrices"><i class="fa fa-check"></i><b>1.3.7</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="r-basics.html"><a href="r-basics.html#vectors"><i class="fa fa-check"></i><b>1.4</b> Vectors</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="r-basics.html"><a href="r-basics.html#creating-vectors"><i class="fa fa-check"></i><b>1.4.1</b> Creating vectors</a></li>
<li class="chapter" data-level="1.4.2" data-path="r-basics.html"><a href="r-basics.html#names"><i class="fa fa-check"></i><b>1.4.2</b> Names</a></li>
<li class="chapter" data-level="1.4.3" data-path="r-basics.html"><a href="r-basics.html#sequences"><i class="fa fa-check"></i><b>1.4.3</b> Sequences</a></li>
<li class="chapter" data-level="1.4.4" data-path="r-basics.html"><a href="r-basics.html#subsetting"><i class="fa fa-check"></i><b>1.4.4</b> Subsetting</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="r-basics.html"><a href="r-basics.html#coercion"><i class="fa fa-check"></i><b>1.5</b> Coercion</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="r-basics.html"><a href="r-basics.html#not-availables-na"><i class="fa fa-check"></i><b>1.5.1</b> Not availables (NA)</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="r-basics.html"><a href="r-basics.html#sorting"><i class="fa fa-check"></i><b>1.6</b> Sorting</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>1.6.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="1.6.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>1.6.2</b> <code>order</code></a></li>
<li class="chapter" data-level="1.6.3" data-path="r-basics.html"><a href="r-basics.html#max-and-which.max"><i class="fa fa-check"></i><b>1.6.3</b> <code>max</code> and <code>which.max</code></a></li>
<li class="chapter" data-level="1.6.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>1.6.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="1.6.5" data-path="r-basics.html"><a href="r-basics.html#beware-of-recycling"><i class="fa fa-check"></i><b>1.6.5</b> Beware of recycling</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="r-basics.html"><a href="r-basics.html#vector-arithmetics"><i class="fa fa-check"></i><b>1.7</b> Vector arithmetics</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="r-basics.html"><a href="r-basics.html#rescaling-a-vector"><i class="fa fa-check"></i><b>1.7.1</b> Rescaling a vector</a></li>
<li class="chapter" data-level="1.7.2" data-path="r-basics.html"><a href="r-basics.html#two-vectors"><i class="fa fa-check"></i><b>1.7.2</b> Two vectors</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="r-basics.html"><a href="r-basics.html#indexing"><i class="fa fa-check"></i><b>1.8</b> Indexing</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="r-basics.html"><a href="r-basics.html#subsetting-with-logicals"><i class="fa fa-check"></i><b>1.8.1</b> Subsetting with logicals</a></li>
<li class="chapter" data-level="1.8.2" data-path="r-basics.html"><a href="r-basics.html#logical-operators"><i class="fa fa-check"></i><b>1.8.2</b> Logical operators</a></li>
<li class="chapter" data-level="1.8.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>1.8.3</b> <code>which</code></a></li>
<li class="chapter" data-level="1.8.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>1.8.4</b> <code>match</code></a></li>
<li class="chapter" data-level="1.8.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>1.8.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="r-basics.html"><a href="r-basics.html#r-programming"><i class="fa fa-check"></i><b>1.9</b> R programming</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>2</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-wrangling.html"><a href="data-wrangling.html#data.tables"><i class="fa fa-check"></i><b>2.1</b> Data.tables</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="data-wrangling.html"><a href="data-wrangling.html#overview"><i class="fa fa-check"></i><b>2.1.1</b> Overview</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-wrangling.html"><a href="data-wrangling.html#creating-and-loading-tables"><i class="fa fa-check"></i><b>2.1.2</b> Creating and loading tables</a></li>
<li class="chapter" data-level="2.1.3" data-path="data-wrangling.html"><a href="data-wrangling.html#inspecting-tables"><i class="fa fa-check"></i><b>2.1.3</b> Inspecting tables</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-wrangling.html"><a href="data-wrangling.html#row-subsetting"><i class="fa fa-check"></i><b>2.2</b> Row subsetting</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-wrangling.html"><a href="data-wrangling.html#subsetting-rows-by-indices"><i class="fa fa-check"></i><b>2.2.1</b> Subsetting rows by indices</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-wrangling.html"><a href="data-wrangling.html#subsetting-rows-by-logical-conditions"><i class="fa fa-check"></i><b>2.2.2</b> Subsetting rows by logical conditions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-wrangling.html"><a href="data-wrangling.html#column-operations"><i class="fa fa-check"></i><b>2.3</b> Column operations</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="data-wrangling.html"><a href="data-wrangling.html#working-with-columns"><i class="fa fa-check"></i><b>2.3.1</b> Working with columns</a></li>
<li class="chapter" data-level="2.3.2" data-path="data-wrangling.html"><a href="data-wrangling.html#column-operations-1"><i class="fa fa-check"></i><b>2.3.2</b> Column operations</a></li>
<li class="chapter" data-level="2.3.3" data-path="data-wrangling.html"><a href="data-wrangling.html#advanced-commands-apply-over-columns"><i class="fa fa-check"></i><b>2.3.3</b> Advanced commands: *apply() over columns</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-wrangling.html"><a href="data-wrangling.html#the-by-option"><i class="fa fa-check"></i><b>2.4</b> The ‘by’ option</a></li>
<li class="chapter" data-level="2.5" data-path="data-wrangling.html"><a href="data-wrangling.html#counting-occurences-with-.n"><i class="fa fa-check"></i><b>2.5</b> Counting occurences with <code>.N</code></a></li>
<li class="chapter" data-level="2.6" data-path="data-wrangling.html"><a href="data-wrangling.html#extending-tables"><i class="fa fa-check"></i><b>2.6</b> Extending tables</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="data-wrangling.html"><a href="data-wrangling.html#creating-new-columns-the-command"><i class="fa fa-check"></i><b>2.6.1</b> Creating new columns (the := command)</a></li>
<li class="chapter" data-level="2.6.2" data-path="data-wrangling.html"><a href="data-wrangling.html#advanced-multiple-assignments"><i class="fa fa-check"></i><b>2.6.2</b> Advanced: Multiple assignments</a></li>
<li class="chapter" data-level="2.6.3" data-path="data-wrangling.html"><a href="data-wrangling.html#copying-tables"><i class="fa fa-check"></i><b>2.6.3</b> Copying tables</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="data-wrangling.html"><a href="data-wrangling.html#summary"><i class="fa fa-check"></i><b>2.7</b> Summary</a></li>
<li class="chapter" data-level="2.8" data-path="data-wrangling.html"><a href="data-wrangling.html#data.table-resources"><i class="fa fa-check"></i><b>2.8</b> Data.table resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html"><i class="fa fa-check"></i><b>3</b> Tidy data and combining tables</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#motivation"><i class="fa fa-check"></i><b>3.1.1</b> Motivation</a></li>
<li class="chapter" data-level="3.1.2" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#datasets-used-in-this-chapter"><i class="fa fa-check"></i><b>3.1.2</b> Datasets used in this chapter</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#tidy-and-untidy-data"><i class="fa fa-check"></i><b>3.2</b> Tidy and untidy data</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#definition-of-tidy-data"><i class="fa fa-check"></i><b>3.2.1</b> Definition of tidy data</a></li>
<li class="chapter" data-level="3.2.2" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#advantages-of-tidy-data"><i class="fa fa-check"></i><b>3.2.2</b> Advantages of tidy data</a></li>
<li class="chapter" data-level="3.2.3" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#common-signs-of-untidy-datasets"><i class="fa fa-check"></i><b>3.2.3</b> Common signs of untidy datasets</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#tidying-up-datasets"><i class="fa fa-check"></i><b>3.3</b> Tidying up datasets</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#melting-wide-to-long"><i class="fa fa-check"></i><b>3.3.1</b> Melting (wide to long)</a></li>
<li class="chapter" data-level="3.3.2" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#casting-long-to-wide"><i class="fa fa-check"></i><b>3.3.2</b> Casting (long to wide)</a></li>
<li class="chapter" data-level="3.3.3" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#separating-columns"><i class="fa fa-check"></i><b>3.3.3</b> Separating columns</a></li>
<li class="chapter" data-level="3.3.4" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#uniting-columns"><i class="fa fa-check"></i><b>3.3.4</b> Uniting columns</a></li>
<li class="chapter" data-level="3.3.5" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#advanced-columns-containing-sets-of-values"><i class="fa fa-check"></i><b>3.3.5</b> Advanced: Columns containing sets of values</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#concatenating-tables"><i class="fa fa-check"></i><b>3.4</b> Concatenating tables</a></li>
<li class="chapter" data-level="3.5" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#merging-tables"><i class="fa fa-check"></i><b>3.5</b> Merging tables</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#inner-merge"><i class="fa fa-check"></i><b>3.5.1</b> Inner merge</a></li>
<li class="chapter" data-level="3.5.2" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#outer-full-merge"><i class="fa fa-check"></i><b>3.5.2</b> Outer (full) merge</a></li>
<li class="chapter" data-level="3.5.3" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#left-merge"><i class="fa fa-check"></i><b>3.5.3</b> Left merge</a></li>
<li class="chapter" data-level="3.5.4" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#right-merge"><i class="fa fa-check"></i><b>3.5.4</b> Right merge</a></li>
<li class="chapter" data-level="3.5.5" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#merging-by-several-columns"><i class="fa fa-check"></i><b>3.5.5</b> Merging by several columns</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#tidy-not-unique"><i class="fa fa-check"></i><b>3.6</b> Tidy representations are not unique</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#alternative-tidy-forms-of-a-table"><i class="fa fa-check"></i><b>3.6.1</b> Alternative tidy forms of a table</a></li>
<li class="chapter" data-level="3.6.2" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#on-multiple-types-of-observational-units-in-the-same-table"><i class="fa fa-check"></i><b>3.6.2</b> On multiple types of observational units in the same table</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#summary-1"><i class="fa fa-check"></i><b>3.7</b> Summary</a></li>
<li class="chapter" data-level="3.8" data-path="tidy-data-and-combining-tables.html"><a href="tidy-data-and-combining-tables.html#tidy-data-resources"><i class="fa fa-check"></i><b>3.8</b> Tidy data resources</a></li>
</ul></li>
<li class="part"><span><b>II Look</b></span></li>
<li class="chapter" data-level="4" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html"><i class="fa fa-check"></i><b>4</b> Low dimensional visualizations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#why-plotting"><i class="fa fa-check"></i><b>4.1</b> Why plotting?</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#plot-vs-stat"><i class="fa fa-check"></i><b>4.1.1</b> Plotting versus summary statistics</a></li>
<li class="chapter" data-level="4.1.2" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#plot-debug"><i class="fa fa-check"></i><b>4.1.2</b> Plotting helps finding bugs in the data</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#grammar-of-graphics"><i class="fa fa-check"></i><b>4.2</b> Grammar of graphics</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#components-of-the-layered-grammar"><i class="fa fa-check"></i><b>4.2.1</b> Components of the layered grammar</a></li>
<li class="chapter" data-level="4.2.2" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#defining-the-data-and-layers"><i class="fa fa-check"></i><b>4.2.2</b> Defining the data and layers</a></li>
<li class="chapter" data-level="4.2.3" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#mapping-of-aesthetics"><i class="fa fa-check"></i><b>4.2.3</b> Mapping of aesthetics</a></li>
<li class="chapter" data-level="4.2.4" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#facets-axes-and-labels"><i class="fa fa-check"></i><b>4.2.4</b> Facets, axes and labels</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#different-types-of-one--and-two-dimensional-plots"><i class="fa fa-check"></i><b>4.3</b> Different types of one- and two-dimensional plots</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#plots-for-one-single-continuous-variable"><i class="fa fa-check"></i><b>4.3.1</b> Plots for one single continuous variable</a></li>
<li class="chapter" data-level="4.3.2" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#plots-for-two-variables-one-continuous-one-discrete"><i class="fa fa-check"></i><b>4.3.2</b> Plots for two variables: one continuous, one discrete</a></li>
<li class="chapter" data-level="4.3.3" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#plots-for-two-continuous-variables"><i class="fa fa-check"></i><b>4.3.3</b> Plots for two continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#further-plots-for-low-dimensional-data"><i class="fa fa-check"></i><b>4.4</b> Further plots for low dimensional data</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#plot-matrix"><i class="fa fa-check"></i><b>4.4.1</b> Plot matrix</a></li>
<li class="chapter" data-level="4.4.2" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#correlation-plot"><i class="fa fa-check"></i><b>4.4.2</b> Correlation plot</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#summary-2"><i class="fa fa-check"></i><b>4.5</b> Summary</a></li>
<li class="chapter" data-level="4.6" data-path="low-dimensional-visualizations.html"><a href="low-dimensional-visualizations.html#resources"><i class="fa fa-check"></i><b>4.6</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html"><i class="fa fa-check"></i><b>5</b> High dimensional visualizations</a>
<ul>
<li class="chapter" data-level="5.1" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#notations"><i class="fa fa-check"></i><b>5.1</b> Notations</a></li>
<li class="chapter" data-level="5.2" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#data-matrix-preparation"><i class="fa fa-check"></i><b>5.2</b> Data matrix preparation</a></li>
<li class="chapter" data-level="5.3" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#heatmaps"><i class="fa fa-check"></i><b>5.3</b> Heatmaps</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#centering-and-scaling-variables"><i class="fa fa-check"></i><b>5.3.1</b> Centering and scaling variables</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#clustering"><i class="fa fa-check"></i><b>5.4</b> Clustering</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#k-means-clustering"><i class="fa fa-check"></i><b>5.4.1</b> K-Means clustering</a></li>
<li class="chapter" data-level="5.4.2" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#hclust"><i class="fa fa-check"></i><b>5.4.2</b> Hierarchical clustering</a></li>
<li class="chapter" data-level="5.4.3" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#comparing-clusterings-with-the-rand-index"><i class="fa fa-check"></i><b>5.4.3</b> Comparing clusterings with the Rand index</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#dimensionality-reduction-with-pca"><i class="fa fa-check"></i><b>5.5</b> Dimensionality reduction with PCA</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#a-minimal-pca-from-2d-to-1d"><i class="fa fa-check"></i><b>5.5.1</b> A minimal PCA: From 2D to 1D</a></li>
<li class="chapter" data-level="5.5.2" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#pca-in-higher-dimensions"><i class="fa fa-check"></i><b>5.5.2</b> PCA in higher dimensions</a></li>
<li class="chapter" data-level="5.5.3" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#pca-in-r"><i class="fa fa-check"></i><b>5.5.3</b> PCA in R</a></li>
<li class="chapter" data-level="5.5.4" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#plotting-pca-results-in-r"><i class="fa fa-check"></i><b>5.5.4</b> Plotting PCA results in R</a></li>
<li class="chapter" data-level="5.5.5" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#pca-summary"><i class="fa fa-check"></i><b>5.5.5</b> PCA summary</a></li>
<li class="chapter" data-level="5.5.6" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#nonlinear-dimension-reduction"><i class="fa fa-check"></i><b>5.5.6</b> Nonlinear dimension reduction</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#discussion"><i class="fa fa-check"></i><b>5.6</b> Discussion</a></li>
<li class="chapter" data-level="5.7" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#summary-3"><i class="fa fa-check"></i><b>5.7</b> Summary</a></li>
<li class="chapter" data-level="5.8" data-path="high-dimensional-visualizations.html"><a href="high-dimensional-visualizations.html#resources-1"><i class="fa fa-check"></i><b>5.8</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html"><i class="fa fa-check"></i><b>6</b> Graphically supported hypotheses</a>
<ul>
<li class="chapter" data-level="6.1" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#descriptive-vs.-associative-plots"><i class="fa fa-check"></i><b>6.1</b> Descriptive vs. associative plots</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#descriptive-plots"><i class="fa fa-check"></i><b>6.1.1</b> Descriptive plots</a></li>
<li class="chapter" data-level="6.1.2" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#associative-plots"><i class="fa fa-check"></i><b>6.1.2</b> Associative plots</a></li>
<li class="chapter" data-level="6.1.3" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#correctly-using-descriptive-and-associative-plots"><i class="fa fa-check"></i><b>6.1.3</b> Correctly using descriptive and associative plots</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#correlation-and-causation"><i class="fa fa-check"></i><b>6.2</b> Correlation and causation</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#the-association-is-not-statistically-supported"><i class="fa fa-check"></i><b>6.2.1</b> The association is not statistically supported</a></li>
<li class="chapter" data-level="6.2.2" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#reversing-cause-and-effect"><i class="fa fa-check"></i><b>6.2.2</b> Reversing cause and effect</a></li>
<li class="chapter" data-level="6.2.3" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#the-association-is-induced-by-a-third-variable"><i class="fa fa-check"></i><b>6.2.3</b> The association is induced by a third variable</a></li>
<li class="chapter" data-level="6.2.4" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#simpsons-paradox"><i class="fa fa-check"></i><b>6.2.4</b> Simpson’s paradox</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#data-presentation-as-story-telling"><i class="fa fa-check"></i><b>6.3</b> Data presentation as story telling</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#what-is-a-story"><i class="fa fa-check"></i><b>6.3.1</b> What is a story?</a></li>
<li class="chapter" data-level="6.3.2" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#presentation-structure"><i class="fa fa-check"></i><b>6.3.2</b> Presentation structure</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#guidelines-for-coloring-in-data-visualization"><i class="fa fa-check"></i><b>6.4</b> Guidelines for coloring in data visualization</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#color-coding-in-r"><i class="fa fa-check"></i><b>6.4.1</b> Color coding in R</a></li>
<li class="chapter" data-level="6.4.2" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#general-rules-for-color-coding"><i class="fa fa-check"></i><b>6.4.2</b> General rules for color coding</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#general-dos-and-donts-in-data-visualization"><i class="fa fa-check"></i><b>6.5</b> General do’s and don’ts in data visualization</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#dos"><i class="fa fa-check"></i><b>6.5.1</b> Do’s</a></li>
<li class="chapter" data-level="6.5.2" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#donts"><i class="fa fa-check"></i><b>6.5.2</b> Don’ts</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#summary-4"><i class="fa fa-check"></i><b>6.6</b> Summary</a></li>
<li class="chapter" data-level="6.7" data-path="graph-supported-hypos.html"><a href="graph-supported-hypos.html#resources-2"><i class="fa fa-check"></i><b>6.7</b> Resources</a></li>
</ul></li>
<li class="part"><span><b>III Conclude</b></span></li>
<li class="chapter" data-level="7" data-path="resampling-stat.html"><a href="resampling-stat.html"><i class="fa fa-check"></i><b>7</b> Resampling-based Statistical Assessment</a>
<ul>
<li class="chapter" data-level="7.1" data-path="resampling-stat.html"><a href="resampling-stat.html#yeast-dataset"><i class="fa fa-check"></i><b>7.1</b> The yeast dataset</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="resampling-stat.html"><a href="resampling-stat.html#the-experiment"><i class="fa fa-check"></i><b>7.1.1</b> The experiment</a></li>
<li class="chapter" data-level="7.1.2" data-path="resampling-stat.html"><a href="resampling-stat.html#genotype"><i class="fa fa-check"></i><b>7.1.2</b> Genotype</a></li>
<li class="chapter" data-level="7.1.3" data-path="resampling-stat.html"><a href="resampling-stat.html#growth-rates"><i class="fa fa-check"></i><b>7.1.3</b> Growth rates</a></li>
<li class="chapter" data-level="7.1.4" data-path="resampling-stat.html"><a href="resampling-stat.html#genotype-growth-rate-association-in-maltose-at-a-specific-marker"><i class="fa fa-check"></i><b>7.1.4</b> Genotype-growth rate association in maltose at a specific marker</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="resampling-stat.html"><a href="resampling-stat.html#statistical-hypothesis-testing"><i class="fa fa-check"></i><b>7.2</b> Statistical hypothesis testing</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="resampling-stat.html"><a href="resampling-stat.html#permut-test-build-up"><i class="fa fa-check"></i><b>7.2.1</b> Permutation testing: An intuitive build-up</a></li>
<li class="chapter" data-level="7.2.2" data-path="resampling-stat.html"><a href="resampling-stat.html#concepts-of-statistical-hypothesis-testing"><i class="fa fa-check"></i><b>7.2.2</b> Concepts of Statistical Hypothesis Testing</a></li>
<li class="chapter" data-level="7.2.3" data-path="resampling-stat.html"><a href="resampling-stat.html#permutation-testing-formally"><i class="fa fa-check"></i><b>7.2.3</b> Permutation testing, formally</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="resampling-stat.html"><a href="resampling-stat.html#confidence-intervals-quantifying-uncertainty-in-parameter-estimates"><i class="fa fa-check"></i><b>7.3</b> Confidence intervals: Quantifying uncertainty in parameter estimates</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="resampling-stat.html"><a href="resampling-stat.html#repeating-experiments-to-quantify-uncertainty"><i class="fa fa-check"></i><b>7.3.1</b> Repeating experiments to quantify uncertainty</a></li>
<li class="chapter" data-level="7.3.2" data-path="resampling-stat.html"><a href="resampling-stat.html#simulating-repeated-experiments"><i class="fa fa-check"></i><b>7.3.2</b> Simulating repeated experiments</a></li>
<li class="chapter" data-level="7.3.3" data-path="resampling-stat.html"><a href="resampling-stat.html#quantifying-uncertainty-using-the-case-resampling-bootstrap"><i class="fa fa-check"></i><b>7.3.3</b> Quantifying uncertainty using the case resampling bootstrap</a></li>
<li class="chapter" data-level="7.3.4" data-path="resampling-stat.html"><a href="resampling-stat.html#confidence-intervals-formal-definition"><i class="fa fa-check"></i><b>7.3.4</b> Confidence Intervals: Formal definition</a></li>
<li class="chapter" data-level="7.3.5" data-path="resampling-stat.html"><a href="resampling-stat.html#visualizing-the-formal-definition-of-confidence-intervals"><i class="fa fa-check"></i><b>7.3.5</b> Visualizing the formal definition of Confidence Intervals</a></li>
<li class="chapter" data-level="7.3.6" data-path="resampling-stat.html"><a href="resampling-stat.html#hypothesis-testing-with-the-confidence-interval"><i class="fa fa-check"></i><b>7.3.6</b> Hypothesis testing with the Confidence Interval</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="resampling-stat.html"><a href="resampling-stat.html#discussion-1"><i class="fa fa-check"></i><b>7.4</b> Discussion</a></li>
<li class="chapter" data-level="7.5" data-path="resampling-stat.html"><a href="resampling-stat.html#conclusion"><i class="fa fa-check"></i><b>7.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="analytical-stat.html"><a href="analytical-stat.html"><i class="fa fa-check"></i><b>8</b> Analytical Statistical Assessment</a>
<ul>
<li class="chapter" data-level="8.1" data-path="analytical-stat.html"><a href="analytical-stat.html#motivation-hypothesis-testing-in-large-datasets"><i class="fa fa-check"></i><b>8.1</b> Motivation: Hypothesis testing in large datasets</a></li>
<li class="chapter" data-level="8.2" data-path="analytical-stat.html"><a href="analytical-stat.html#the-binomial-test-testing-hypotheses-for-a-single-binary-variable"><i class="fa fa-check"></i><b>8.2</b> The Binomial Test: testing hypotheses for a single binary variable</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="analytical-stat.html"><a href="analytical-stat.html#abstraction-tossing-a-coin"><i class="fa fa-check"></i><b>8.2.1</b> Abstraction: Tossing a coin</a></li>
<li class="chapter" data-level="8.2.2" data-path="analytical-stat.html"><a href="analytical-stat.html#computing-a-binomial-test-with-r"><i class="fa fa-check"></i><b>8.2.2</b> Computing a binomial test with R</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="analytical-stat.html"><a href="analytical-stat.html#fisher-test"><i class="fa fa-check"></i><b>8.3</b> Fisher’s exact test: Testing the association between two binary variables</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="analytical-stat.html"><a href="analytical-stat.html#permutation-testing-and-the-hypergeometric-distribution"><i class="fa fa-check"></i><b>8.3.1</b> Permutation testing and the hypergeometric distribution</a></li>
<li class="chapter" data-level="8.3.2" data-path="analytical-stat.html"><a href="analytical-stat.html#fishers-exact-test"><i class="fa fa-check"></i><b>8.3.2</b> Fisher’s exact test</a></li>
<li class="chapter" data-level="8.3.3" data-path="analytical-stat.html"><a href="analytical-stat.html#fishers-exact-test-in-r"><i class="fa fa-check"></i><b>8.3.3</b> Fisher’s exact test in R</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="analytical-stat.html"><a href="analytical-stat.html#testing-the-association-between-one-quantitative-and-one-binary-variable"><i class="fa fa-check"></i><b>8.4</b> Testing the association between one quantitative and one binary variable</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="analytical-stat.html"><a href="analytical-stat.html#the-t-test"><i class="fa fa-check"></i><b>8.4.1</b> The t-test</a></li>
<li class="chapter" data-level="8.4.2" data-path="analytical-stat.html"><a href="analytical-stat.html#wilcoxon-rank-sum-test-an-alternative-to-the-t-test-for-non-gaussian-data"><i class="fa fa-check"></i><b>8.4.2</b> Wilcoxon rank-sum test: An alternative to the t-test for non-Gaussian data</a></li>
<li class="chapter" data-level="8.4.3" data-path="analytical-stat.html"><a href="analytical-stat.html#why-bother-wilcox"><i class="fa fa-check"></i><b>8.4.3</b> Why bother with the Wilcoxon rank-sum test?</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="analytical-stat.html"><a href="analytical-stat.html#association-between-two-quantitative-variables"><i class="fa fa-check"></i><b>8.5</b> Association between two quantitative variables</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="analytical-stat.html"><a href="analytical-stat.html#the-pearson-correlation-test"><i class="fa fa-check"></i><b>8.5.1</b> The Pearson correlation test</a></li>
<li class="chapter" data-level="8.5.2" data-path="analytical-stat.html"><a href="analytical-stat.html#the-spearman-rank-correlation-test"><i class="fa fa-check"></i><b>8.5.2</b> The Spearman rank correlation test</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="analytical-stat.html"><a href="analytical-stat.html#testing-associations-of-two-variables-overview"><i class="fa fa-check"></i><b>8.6</b> Testing associations of two variables: Overview</a></li>
<li class="chapter" data-level="8.7" data-path="analytical-stat.html"><a href="analytical-stat.html#assessing-distributional-assumptions-with-q-q-plots"><i class="fa fa-check"></i><b>8.7</b> Assessing distributional assumptions with Q-Q Plots</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="analytical-stat.html"><a href="analytical-stat.html#limitations-of-histograms"><i class="fa fa-check"></i><b>8.7.1</b> Limitations of Histograms</a></li>
<li class="chapter" data-level="8.7.2" data-path="analytical-stat.html"><a href="analytical-stat.html#q-q-plots-comparing-empirical-to-theoretical-quantiles"><i class="fa fa-check"></i><b>8.7.2</b> Q-Q plots: Comparing empirical to theoretical quantiles</a></li>
<li class="chapter" data-level="8.7.3" data-path="analytical-stat.html"><a href="analytical-stat.html#typical-q-q-plots"><i class="fa fa-check"></i><b>8.7.3</b> Typical Q-Q plots</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="analytical-stat.html"><a href="analytical-stat.html#analytical-conf-int"><i class="fa fa-check"></i><b>8.8</b> Analytical Confidence intervals</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="analytical-stat.html"><a href="analytical-stat.html#binomial-case"><i class="fa fa-check"></i><b>8.8.1</b> Binomial case</a></li>
<li class="chapter" data-level="8.8.2" data-path="analytical-stat.html"><a href="analytical-stat.html#confidence-intervals-in-r"><i class="fa fa-check"></i><b>8.8.2</b> Confidence intervals in R</a></li>
<li class="chapter" data-level="8.8.3" data-path="analytical-stat.html"><a href="analytical-stat.html#advanced-a-note-on-overlapping-confidence-intervals"><i class="fa fa-check"></i><b>8.8.3</b> Advanced: A note on overlapping confidence intervals</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="analytical-stat.html"><a href="analytical-stat.html#discussion-2"><i class="fa fa-check"></i><b>8.9</b> Discussion</a></li>
<li class="chapter" data-level="8.10" data-path="analytical-stat.html"><a href="analytical-stat.html#conclusion-1"><i class="fa fa-check"></i><b>8.10</b> Conclusion</a></li>
<li class="chapter" data-level="8.11" data-path="analytical-stat.html"><a href="analytical-stat.html#resources-3"><i class="fa fa-check"></i><b>8.11</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="big-data-stat.html"><a href="big-data-stat.html"><i class="fa fa-check"></i><b>9</b> Statistical Assessments for Big Data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="big-data-stat.html"><a href="big-data-stat.html#motivation-statistical-significance-in-a-big-data-context"><i class="fa fa-check"></i><b>9.1</b> Motivation: Statistical Significance in a Big Data context</a></li>
<li class="chapter" data-level="9.2" data-path="big-data-stat.html"><a href="big-data-stat.html#effect-size-actually-important-or-just-significant"><i class="fa fa-check"></i><b>9.2</b> Effect Size: Actually important or just significant?</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="big-data-stat.html"><a href="big-data-stat.html#the-relationship-of-sample-size-and-significance"><i class="fa fa-check"></i><b>9.2.1</b> The relationship of sample size and significance</a></li>
<li class="chapter" data-level="9.2.2" data-path="big-data-stat.html"><a href="big-data-stat.html#report-p-value-effect-size-and-plot"><i class="fa fa-check"></i><b>9.2.2</b> Report <span class="math inline">\(P-\)</span>value, effect size, and plot</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="big-data-stat.html"><a href="big-data-stat.html#multiple-testing"><i class="fa fa-check"></i><b>9.3</b> Multiple Testing</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="big-data-stat.html"><a href="big-data-stat.html#multiple-testing-in-real-life-p-hacking-and-fishing-expeditions"><i class="fa fa-check"></i><b>9.3.1</b> Multiple testing in real life: <span class="math inline">\(P-\)</span>Hacking and fishing expeditions</a></li>
<li class="chapter" data-level="9.3.2" data-path="big-data-stat.html"><a href="big-data-stat.html#the-land-of-counterfeit-fake-coins"><i class="fa fa-check"></i><b>9.3.2</b> The Land of Counterfeit (fake) coins</a></li>
<li class="chapter" data-level="9.3.3" data-path="big-data-stat.html"><a href="big-data-stat.html#simulation"><i class="fa fa-check"></i><b>9.3.3</b> Simulation</a></li>
<li class="chapter" data-level="9.3.4" data-path="big-data-stat.html"><a href="big-data-stat.html#nominal-p-values"><i class="fa fa-check"></i><b>9.3.4</b> Nominal <span class="math inline">\(P-\)</span>values</a></li>
<li class="chapter" data-level="9.3.5" data-path="big-data-stat.html"><a href="big-data-stat.html#family-wise-error-rate"><i class="fa fa-check"></i><b>9.3.5</b> Family-wise error rate</a></li>
<li class="chapter" data-level="9.3.6" data-path="big-data-stat.html"><a href="big-data-stat.html#false-discovery-rate"><i class="fa fa-check"></i><b>9.3.6</b> False Discovery Rate</a></li>
<li class="chapter" data-level="9.3.7" data-path="big-data-stat.html"><a href="big-data-stat.html#overview-figure"><i class="fa fa-check"></i><b>9.3.7</b> Overview figure</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="big-data-stat.html"><a href="big-data-stat.html#conclusions"><i class="fa fa-check"></i><b>9.4</b> Conclusions</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="big-data-stat.html"><a href="big-data-stat.html#to-remember"><i class="fa fa-check"></i><b>9.4.1</b> To remember</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="big-data-stat.html"><a href="big-data-stat.html#references"><i class="fa fa-check"></i><b>9.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html"><i class="fa fa-check"></i><b>10</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="10.1" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#motivation-and-overview"><i class="fa fa-check"></i><b>10.1</b> Motivation and overview</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#testing-conditional-dependence"><i class="fa fa-check"></i><b>10.1.1</b> Testing conditional dependence</a></li>
<li class="chapter" data-level="10.1.2" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#linear-regression"><i class="fa fa-check"></i><b>10.1.2</b> Linear regression</a></li>
<li class="chapter" data-level="10.1.3" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#limitations"><i class="fa fa-check"></i><b>10.1.3</b> Limitations</a></li>
<li class="chapter" data-level="10.1.4" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#applications"><i class="fa fa-check"></i><b>10.1.4</b> Applications</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#univariate-regression"><i class="fa fa-check"></i><b>10.2</b> Univariate regression</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#galtons-height-dataset"><i class="fa fa-check"></i><b>10.2.1</b> Galton’s height dataset</a></li>
<li class="chapter" data-level="10.2.2" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#ML-LSE"><i class="fa fa-check"></i><b>10.2.2</b> Maximum likelihood and least squares estimates</a></li>
<li class="chapter" data-level="10.2.3" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#interpretation-of-the-fitted-coefficients"><i class="fa fa-check"></i><b>10.2.3</b> Interpretation of the fitted coefficients</a></li>
<li class="chapter" data-level="10.2.4" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#predicted-values-are-random-variables"><i class="fa fa-check"></i><b>10.2.4</b> Predicted values are random variables</a></li>
<li class="chapter" data-level="10.2.5" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#explained-variance"><i class="fa fa-check"></i><b>10.2.5</b> Explained variance</a></li>
<li class="chapter" data-level="10.2.6" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#testing-the-relationship-between-y-and-x"><i class="fa fa-check"></i><b>10.2.6</b> Testing the relationship between <span class="math inline">\(y\)</span> and <span class="math inline">\(x\)</span></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#multivariate-regression"><i class="fa fa-check"></i><b>10.3</b> Multivariate regression</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#a-multivariate-example-the-baseball-dataset"><i class="fa fa-check"></i><b>10.3.1</b> A multivariate example: The baseball dataset</a></li>
<li class="chapter" data-level="10.3.2" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#fitting-multivariate-regression"><i class="fa fa-check"></i><b>10.3.2</b> Fitting multivariate regression</a></li>
<li class="chapter" data-level="10.3.3" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#testing-sets-of-parameters"><i class="fa fa-check"></i><b>10.3.3</b> Testing sets of parameters</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#lin-reg-diagnostic"><i class="fa fa-check"></i><b>10.4</b> Diagnostic plots</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#assessing-non-linearity-with-residual-plot"><i class="fa fa-check"></i><b>10.4.1</b> Assessing non-linearity with residual plot</a></li>
<li class="chapter" data-level="10.4.2" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#when-error-variance-is-not-constant-heteroscedascity"><i class="fa fa-check"></i><b>10.4.2</b> When error variance is not constant: Heteroscedascity</a></li>
<li class="chapter" data-level="10.4.3" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#gaussianity-q-q-plot-of-the-residuals"><i class="fa fa-check"></i><b>10.4.3</b> Gaussianity: Q-Q-plot of the residuals</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="chap-lin-reg.html"><a href="chap-lin-reg.html#conclusions-1"><i class="fa fa-check"></i><b>10.5</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="chap-log-reg.html"><a href="chap-log-reg.html"><i class="fa fa-check"></i><b>11</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="11.1" data-path="chap-log-reg.html"><a href="chap-log-reg.html#a-univariate-example-predicting-sex-given-the-height"><i class="fa fa-check"></i><b>11.1</b> A univariate example: predicting sex given the height</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="chap-log-reg.html"><a href="chap-log-reg.html#from-linear-regression-to-logistic-regression"><i class="fa fa-check"></i><b>11.1.1</b> From linear regression to logistic regression</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="chap-log-reg.html"><a href="chap-log-reg.html#ML-CE"><i class="fa fa-check"></i><b>11.2</b> Maximum likelihood estimates and the cross-entropy criterion</a></li>
<li class="chapter" data-level="11.3" data-path="chap-log-reg.html"><a href="chap-log-reg.html#logistic-regression-as-a-generalized-linear-model"><i class="fa fa-check"></i><b>11.3</b> Logistic regression as a generalized linear model</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="chap-log-reg.html"><a href="chap-log-reg.html#logistic-regression-with-r"><i class="fa fa-check"></i><b>11.3.1</b> Logistic regression with R</a></li>
<li class="chapter" data-level="11.3.2" data-path="chap-log-reg.html"><a href="chap-log-reg.html#overview-plot-of-the-univariate-example"><i class="fa fa-check"></i><b>11.3.2</b> Overview plot of the univariate example</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="chap-log-reg.html"><a href="chap-log-reg.html#interpreting-a-logistic-regression-fit"><i class="fa fa-check"></i><b>11.4</b> Interpreting a logistic regression fit</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="chap-log-reg.html"><a href="chap-log-reg.html#predicted-odds"><i class="fa fa-check"></i><b>11.4.1</b> Predicted odds</a></li>
<li class="chapter" data-level="11.4.2" data-path="chap-log-reg.html"><a href="chap-log-reg.html#coefficients-of-the-logistic-regression"><i class="fa fa-check"></i><b>11.4.2</b> Coefficients of the logistic regression</a></li>
<li class="chapter" data-level="11.4.3" data-path="chap-log-reg.html"><a href="chap-log-reg.html#effects-on-probabilities"><i class="fa fa-check"></i><b>11.4.3</b> Effects on probabilities</a></li>
<li class="chapter" data-level="11.4.4" data-path="chap-log-reg.html"><a href="chap-log-reg.html#class-imbalance"><i class="fa fa-check"></i><b>11.4.4</b> Class imbalance</a></li>
<li class="chapter" data-level="11.4.5" data-path="chap-log-reg.html"><a href="chap-log-reg.html#multiple-logistic-regression"><i class="fa fa-check"></i><b>11.4.5</b> Multiple Logistic regression</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="chap-log-reg.html"><a href="chap-log-reg.html#assessing-the-performance-of-a-classifier"><i class="fa fa-check"></i><b>11.5</b> Assessing the performance of a classifier</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="chap-log-reg.html"><a href="chap-log-reg.html#classification-with-logistic-regression"><i class="fa fa-check"></i><b>11.5.1</b> Classification with logistic regression</a></li>
<li class="chapter" data-level="11.5.2" data-path="chap-log-reg.html"><a href="chap-log-reg.html#confusion-matrix"><i class="fa fa-check"></i><b>11.5.2</b> Confusion Matrix</a></li>
<li class="chapter" data-level="11.5.3" data-path="chap-log-reg.html"><a href="chap-log-reg.html#classification-performance-metrics"><i class="fa fa-check"></i><b>11.5.3</b> Classification performance metrics</a></li>
<li class="chapter" data-level="11.5.4" data-path="chap-log-reg.html"><a href="chap-log-reg.html#choosing-a-classification-cutoff"><i class="fa fa-check"></i><b>11.5.4</b> Choosing a classification cutoff</a></li>
<li class="chapter" data-level="11.5.5" data-path="chap-log-reg.html"><a href="chap-log-reg.html#roc-curve"><i class="fa fa-check"></i><b>11.5.5</b> ROC curve</a></li>
<li class="chapter" data-level="11.5.6" data-path="chap-log-reg.html"><a href="chap-log-reg.html#precision-recall-curve"><i class="fa fa-check"></i><b>11.5.6</b> Precision Recall curve</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="chap-log-reg.html"><a href="chap-log-reg.html#conclusions-2"><i class="fa fa-check"></i><b>11.6</b> Conclusions</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="chap-log-reg.html"><a href="chap-log-reg.html#to-remember-1"><i class="fa fa-check"></i><b>11.6.1</b> To remember</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="supervised-learning.html"><a href="supervised-learning.html"><i class="fa fa-check"></i><b>12</b> Supervised Learning</a>
<ul>
<li class="chapter" data-level="12.1" data-path="supervised-learning.html"><a href="supervised-learning.html#introduction-3"><i class="fa fa-check"></i><b>12.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="supervised-learning.html"><a href="supervised-learning.html#motivation-2"><i class="fa fa-check"></i><b>12.1.1</b> Motivation</a></li>
<li class="chapter" data-level="12.1.2" data-path="supervised-learning.html"><a href="supervised-learning.html#supervised-learning-vs.-unsupervised-learning"><i class="fa fa-check"></i><b>12.1.2</b> Supervised learning vs. unsupervised learning</a></li>
<li class="chapter" data-level="12.1.3" data-path="supervised-learning.html"><a href="supervised-learning.html#notation"><i class="fa fa-check"></i><b>12.1.3</b> Notation</a></li>
<li class="chapter" data-level="12.1.4" data-path="supervised-learning.html"><a href="supervised-learning.html#basic-approach-in-supervised-machine-learning"><i class="fa fa-check"></i><b>12.1.4</b> Basic approach in supervised machine learning</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="supervised-learning.html"><a href="supervised-learning.html#over--and-under-fitting"><i class="fa fa-check"></i><b>12.2</b> Over- and Under-fitting</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="supervised-learning.html"><a href="supervised-learning.html#example-polynomial-curve-fitting"><i class="fa fa-check"></i><b>12.2.1</b> Example: polynomial curve fitting</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="supervised-learning.html"><a href="supervised-learning.html#splitting-the-dataset-for-performance-assessment"><i class="fa fa-check"></i><b>12.3</b> Splitting the dataset for performance assessment</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="supervised-learning.html"><a href="supervised-learning.html#over-fitting-to-the-training-dataset"><i class="fa fa-check"></i><b>12.3.1</b> Over-fitting to the training dataset</a></li>
<li class="chapter" data-level="12.3.2" data-path="supervised-learning.html"><a href="supervised-learning.html#cross-validation"><i class="fa fa-check"></i><b>12.3.2</b> Cross-validation</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="supervised-learning.html"><a href="supervised-learning.html#random-forests-as-alternative-models"><i class="fa fa-check"></i><b>12.4</b> Random Forests as alternative models</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="supervised-learning.html"><a href="supervised-learning.html#the-basics-of-decision-trees"><i class="fa fa-check"></i><b>12.4.1</b> The basics of decision trees</a></li>
<li class="chapter" data-level="12.4.2" data-path="supervised-learning.html"><a href="supervised-learning.html#random-forests-for-classification-and-regression-tasks"><i class="fa fa-check"></i><b>12.4.2</b> Random Forests for classification and regression tasks</a></li>
<li class="chapter" data-level="12.4.3" data-path="supervised-learning.html"><a href="supervised-learning.html#random-forests-in-r"><i class="fa fa-check"></i><b>12.4.3</b> Random Forests in R</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="supervised-learning.html"><a href="supervised-learning.html#conclusion-2"><i class="fa fa-check"></i><b>12.5</b> Conclusion</a></li>
<li class="chapter" data-level="12.6" data-path="supervised-learning.html"><a href="supervised-learning.html#resources-4"><i class="fa fa-check"></i><b>12.6</b> Resources</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>A</b> Importing data</a>
<ul>
<li class="chapter" data-level="A.1" data-path="importing-data.html"><a href="importing-data.html#paths-and-the-working-directory"><i class="fa fa-check"></i><b>A.1</b> Paths and the working directory</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="importing-data.html"><a href="importing-data.html#the-filesystem"><i class="fa fa-check"></i><b>A.1.1</b> The filesystem</a></li>
<li class="chapter" data-level="A.1.2" data-path="importing-data.html"><a href="importing-data.html#relative-and-full-paths"><i class="fa fa-check"></i><b>A.1.2</b> Relative and full paths</a></li>
<li class="chapter" data-level="A.1.3" data-path="importing-data.html"><a href="importing-data.html#the-working-directory"><i class="fa fa-check"></i><b>A.1.3</b> The working directory</a></li>
<li class="chapter" data-level="A.1.4" data-path="importing-data.html"><a href="importing-data.html#generating-path-names"><i class="fa fa-check"></i><b>A.1.4</b> Generating path names</a></li>
<li class="chapter" data-level="A.1.5" data-path="importing-data.html"><a href="importing-data.html#copying-files-using-paths"><i class="fa fa-check"></i><b>A.1.5</b> Copying files using paths</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="importing-data.html"><a href="importing-data.html#the-readr-and-readxl-packages"><i class="fa fa-check"></i><b>A.2</b> The readr and readxl packages</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="importing-data.html"><a href="importing-data.html#readr"><i class="fa fa-check"></i><b>A.2.1</b> readr</a></li>
<li class="chapter" data-level="A.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>A.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="importing-data.html"><a href="importing-data.html#exercises"><i class="fa fa-check"></i><b>A.3</b> Exercises</a></li>
<li class="chapter" data-level="A.4" data-path="importing-data.html"><a href="importing-data.html#downloading-files"><i class="fa fa-check"></i><b>A.4</b> Downloading files</a></li>
<li class="chapter" data-level="A.5" data-path="importing-data.html"><a href="importing-data.html#r-base-importing-functions"><i class="fa fa-check"></i><b>A.5</b> R-base importing functions</a>
<ul>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="A.6" data-path="importing-data.html"><a href="importing-data.html#text-versus-binary-files"><i class="fa fa-check"></i><b>A.6</b> Text versus binary files</a></li>
<li class="chapter" data-level="A.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>A.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="A.8" data-path="importing-data.html"><a href="importing-data.html#organizing-data-with-spreadsheets"><i class="fa fa-check"></i><b>A.8</b> Organizing data with spreadsheets</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appendix-r-programming.html"><a href="appendix-r-programming.html"><i class="fa fa-check"></i><b>B</b> R programming</a>
<ul>
<li class="chapter" data-level="B.1" data-path="appendix-r-programming.html"><a href="appendix-r-programming.html#pipe"><i class="fa fa-check"></i><b>B.1</b> The pipe operator</a></li>
<li class="chapter" data-level="B.2" data-path="appendix-r-programming.html"><a href="appendix-r-programming.html#conditionals"><i class="fa fa-check"></i><b>B.2</b> Conditional expressions</a></li>
<li class="chapter" data-level="B.3" data-path="appendix-r-programming.html"><a href="appendix-r-programming.html#defining-functions"><i class="fa fa-check"></i><b>B.3</b> Defining functions</a></li>
<li class="chapter" data-level="B.4" data-path="appendix-r-programming.html"><a href="appendix-r-programming.html#namespaces"><i class="fa fa-check"></i><b>B.4</b> Namespaces</a></li>
<li class="chapter" data-level="B.5" data-path="appendix-r-programming.html"><a href="appendix-r-programming.html#for-loops"><i class="fa fa-check"></i><b>B.5</b> For-loops</a></li>
<li class="chapter" data-level="B.6" data-path="appendix-r-programming.html"><a href="appendix-r-programming.html#vectorization"><i class="fa fa-check"></i><b>B.6</b> Vectorization and functionals</a></li>
<li class="chapter" data-level="B.7" data-path="appendix-r-programming.html"><a href="appendix-r-programming.html#r-markdown"><i class="fa fa-check"></i><b>B.7</b> R Markdown</a></li>
<li class="chapter" data-level="B.8" data-path="appendix-r-programming.html"><a href="appendix-r-programming.html#resources-5"><i class="fa fa-check"></i><b>B.8</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="additonal-plotting-tools.html"><a href="additonal-plotting-tools.html"><i class="fa fa-check"></i><b>C</b> Additonal plotting tools</a>
<ul>
<li class="chapter" data-level="C.1" data-path="additonal-plotting-tools.html"><a href="additonal-plotting-tools.html#plotting-themes"><i class="fa fa-check"></i><b>C.1</b> Plotting themes</a></li>
<li class="chapter" data-level="C.2" data-path="additonal-plotting-tools.html"><a href="additonal-plotting-tools.html#axes"><i class="fa fa-check"></i><b>C.2</b> Axes</a>
<ul>
<li class="chapter" data-level="C.2.1" data-path="additonal-plotting-tools.html"><a href="additonal-plotting-tools.html#axis-elements"><i class="fa fa-check"></i><b>C.2.1</b> Axis elements</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="additonal-plotting-tools.html"><a href="additonal-plotting-tools.html#plot-title"><i class="fa fa-check"></i><b>C.3</b> Plot title</a></li>
<li class="chapter" data-level="C.4" data-path="additonal-plotting-tools.html"><a href="additonal-plotting-tools.html#legend"><i class="fa fa-check"></i><b>C.4</b> Legend</a></li>
<li class="chapter" data-level="C.5" data-path="additonal-plotting-tools.html"><a href="additonal-plotting-tools.html#interactive-plots"><i class="fa fa-check"></i><b>C.5</b> Interactive plots</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="appendix-probabilities.html"><a href="appendix-probabilities.html"><i class="fa fa-check"></i><b>D</b> Probabilities</a>
<ul>
<li class="chapter" data-level="D.1" data-path="appendix-probabilities.html"><a href="appendix-probabilities.html#probability-conditional-probability-and-dependence"><i class="fa fa-check"></i><b>D.1</b> Probability, conditional probability, and dependence</a></li>
<li class="chapter" data-level="D.2" data-path="appendix-probabilities.html"><a href="appendix-probabilities.html#expected-value-variance-and-covariance"><i class="fa fa-check"></i><b>D.2</b> Expected value, variance, and covariance</a></li>
<li class="chapter" data-level="D.3" data-path="appendix-probabilities.html"><a href="appendix-probabilities.html#probs-sample-estimates"><i class="fa fa-check"></i><b>D.3</b> Sample estimates</a></li>
<li class="chapter" data-level="D.4" data-path="appendix-probabilities.html"><a href="appendix-probabilities.html#appendix-lin-reg"><i class="fa fa-check"></i><b>D.4</b> Linear regression</a></li>
<li class="chapter" data-level="D.5" data-path="appendix-probabilities.html"><a href="appendix-probabilities.html#resources-6"><i class="fa fa-check"></i><b>D.5</b> Resources</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="./">Julien Gagneur, TUM</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis and Visualization in R (IN2339)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tidy-data-and-combining-tables" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Tidy data and combining tables<a href="tidy-data-and-combining-tables.html#tidy-data-and-combining-tables" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introduction-1" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Introduction<a href="tidy-data-and-combining-tables.html#introduction-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="motivation" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Motivation<a href="tidy-data-and-combining-tables.html#motivation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Without good practices, much of the time of a data analyst can be wasted in data wrangling rather than visualization or analysis. The concept of tidy data <span class="citation">(<a href="#ref-Wickham2014">Wickham 2014</a>)</span> addresses this issue by offering a standard representation of data, that is easy to manipulate, model and visualize. This chapter introduces the notion of tidy data and operations for tidying up messy datasets. Moreover, we describe how to easily concatenate tables with the same format and merge tables with common variables. This will set us ready for data visualization and analytics.</p>
<p>This chapter is partially adopted from “Introduction to Data Science” by Rafael A. Irizarry (<a href="https://rafalab.github.io/dsbook/" class="uri">https://rafalab.github.io/dsbook/</a>) and uses concepts and material introduced by the developers of the <code>tidyr</code> package.</p>
</div>
<div id="datasets-used-in-this-chapter" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Datasets used in this chapter<a href="tidy-data-and-combining-tables.html#datasets-used-in-this-chapter" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following code chunks load libraries and tables used throughout this chapter.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="tidy-data-and-combining-tables.html#cb1-1" tabindex="-1"></a>  <span class="fu">library</span>(data.table) <span class="co"># melt, dcast, ...</span></span>
<span id="cb1-2"><a href="tidy-data-and-combining-tables.html#cb1-2" tabindex="-1"></a>  <span class="fu">library</span>(tidyr) <span class="co"># separate, unite, ...</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="tidy-data-and-combining-tables.html#cb2-1" tabindex="-1"></a>DATADIR <span class="ot">&lt;-</span> <span class="st">&quot;extdata&quot;</span></span>
<span id="cb2-2"><a href="tidy-data-and-combining-tables.html#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="tidy-data-and-combining-tables.html#cb2-3" tabindex="-1"></a>election_results <span class="ot">&lt;-</span> <span class="fu">fread</span>(</span>
<span id="cb2-4"><a href="tidy-data-and-combining-tables.html#cb2-4" tabindex="-1"></a>  <span class="fu">file.path</span>(DATADIR, <span class="st">&quot;US-pres16results.csv&quot;</span>), </span>
<span id="cb2-5"><a href="tidy-data-and-combining-tables.html#cb2-5" tabindex="-1"></a>  <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>), <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span></span>
<span id="cb2-6"><a href="tidy-data-and-combining-tables.html#cb2-6" tabindex="-1"></a>  )</span>
<span id="cb2-7"><a href="tidy-data-and-combining-tables.html#cb2-7" tabindex="-1"></a></span>
<span id="cb2-8"><a href="tidy-data-and-combining-tables.html#cb2-8" tabindex="-1"></a>election_results <span class="ot">&lt;-</span> election_results[</span>
<span id="cb2-9"><a href="tidy-data-and-combining-tables.html#cb2-9" tabindex="-1"></a>  <span class="fu">is.na</span>(county) <span class="sc">&amp;</span> st <span class="sc">!=</span> <span class="st">&quot;US&quot;</span>,</span>
<span id="cb2-10"><a href="tidy-data-and-combining-tables.html#cb2-10" tabindex="-1"></a>  .(cand, st, votes, total_votes)</span>
<span id="cb2-11"><a href="tidy-data-and-combining-tables.html#cb2-11" tabindex="-1"></a>  ]</span>
<span id="cb2-12"><a href="tidy-data-and-combining-tables.html#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="tidy-data-and-combining-tables.html#cb2-13" tabindex="-1"></a><span class="fu">setnames</span>(election_results, <span class="st">&quot;cand&quot;</span>, <span class="st">&quot;candidate&quot;</span>)</span>
<span id="cb2-14"><a href="tidy-data-and-combining-tables.html#cb2-14" tabindex="-1"></a><span class="fu">setnames</span>(election_results, <span class="st">&quot;st&quot;</span>, <span class="st">&quot;state&quot;</span>)</span>
<span id="cb2-15"><a href="tidy-data-and-combining-tables.html#cb2-15" tabindex="-1"></a></span>
<span id="cb2-16"><a href="tidy-data-and-combining-tables.html#cb2-16" tabindex="-1"></a>table1 <span class="ot">&lt;-</span> <span class="fu">fread</span>(</span>
<span id="cb2-17"><a href="tidy-data-and-combining-tables.html#cb2-17" tabindex="-1"></a>  <span class="fu">file.path</span>(DATADIR, <span class="st">&quot;table1_alternate.csv&quot;</span>), </span>
<span id="cb2-18"><a href="tidy-data-and-combining-tables.html#cb2-18" tabindex="-1"></a>  <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>), <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span></span>
<span id="cb2-19"><a href="tidy-data-and-combining-tables.html#cb2-19" tabindex="-1"></a>  ) </span>
<span id="cb2-20"><a href="tidy-data-and-combining-tables.html#cb2-20" tabindex="-1"></a></span>
<span id="cb2-21"><a href="tidy-data-and-combining-tables.html#cb2-21" tabindex="-1"></a>table2 <span class="ot">&lt;-</span> <span class="fu">fread</span>(</span>
<span id="cb2-22"><a href="tidy-data-and-combining-tables.html#cb2-22" tabindex="-1"></a>  <span class="fu">file.path</span>(DATADIR, <span class="st">&quot;table2_alternate.csv&quot;</span>), </span>
<span id="cb2-23"><a href="tidy-data-and-combining-tables.html#cb2-23" tabindex="-1"></a>  <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>), <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span></span>
<span id="cb2-24"><a href="tidy-data-and-combining-tables.html#cb2-24" tabindex="-1"></a>  ) </span>
<span id="cb2-25"><a href="tidy-data-and-combining-tables.html#cb2-25" tabindex="-1"></a></span>
<span id="cb2-26"><a href="tidy-data-and-combining-tables.html#cb2-26" tabindex="-1"></a>table3 <span class="ot">&lt;-</span> <span class="fu">fread</span>(</span>
<span id="cb2-27"><a href="tidy-data-and-combining-tables.html#cb2-27" tabindex="-1"></a>  <span class="fu">file.path</span>(DATADIR, <span class="st">&quot;table3_alternate.csv&quot;</span>), </span>
<span id="cb2-28"><a href="tidy-data-and-combining-tables.html#cb2-28" tabindex="-1"></a>  <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>), <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span></span>
<span id="cb2-29"><a href="tidy-data-and-combining-tables.html#cb2-29" tabindex="-1"></a>  )</span>
<span id="cb2-30"><a href="tidy-data-and-combining-tables.html#cb2-30" tabindex="-1"></a></span>
<span id="cb2-31"><a href="tidy-data-and-combining-tables.html#cb2-31" tabindex="-1"></a>table4 <span class="ot">&lt;-</span> <span class="fu">fread</span>(</span>
<span id="cb2-32"><a href="tidy-data-and-combining-tables.html#cb2-32" tabindex="-1"></a>  <span class="fu">file.path</span>(DATADIR, <span class="st">&quot;table4_alternate.csv&quot;</span>), </span>
<span id="cb2-33"><a href="tidy-data-and-combining-tables.html#cb2-33" tabindex="-1"></a>  <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>), <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span></span>
<span id="cb2-34"><a href="tidy-data-and-combining-tables.html#cb2-34" tabindex="-1"></a>  ) </span>
<span id="cb2-35"><a href="tidy-data-and-combining-tables.html#cb2-35" tabindex="-1"></a></span>
<span id="cb2-36"><a href="tidy-data-and-combining-tables.html#cb2-36" tabindex="-1"></a>table5 <span class="ot">&lt;-</span> <span class="fu">fread</span>(</span>
<span id="cb2-37"><a href="tidy-data-and-combining-tables.html#cb2-37" tabindex="-1"></a>  <span class="fu">file.path</span>(DATADIR, <span class="st">&quot;table5_alternate.csv&quot;</span>), </span>
<span id="cb2-38"><a href="tidy-data-and-combining-tables.html#cb2-38" tabindex="-1"></a>  <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>), <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span></span>
<span id="cb2-39"><a href="tidy-data-and-combining-tables.html#cb2-39" tabindex="-1"></a>  ) </span></code></pre></div>
</div>
</div>
<div id="tidy-and-untidy-data" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Tidy and untidy data<a href="tidy-data-and-combining-tables.html#tidy-and-untidy-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="definition-of-tidy-data" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Definition of tidy data<a href="tidy-data-and-combining-tables.html#definition-of-tidy-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="float">
<img src="assets/img/lec05_tidy-1_alternate.png" alt="Tidy data table layout. Each variable has a column, each observation a row and each value a cell." />
<div class="figcaption"><strong>Tidy data table layout.</strong> Each variable has a column, each observation a row and each value a cell.</div>
</div>
<p>We say that a data table is in <em>tidy</em> format if:</p>
<ol style="list-style-type: decimal">
<li>Each <strong>variable</strong> has its own <strong>column</strong>.</li>
<li>Each <strong>observation</strong> has its own <strong>row</strong>.</li>
<li>Each <strong>value</strong> has its own <strong>cell</strong>.</li>
</ol>
<p>The following dataset from the 2016 US presidential vote<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> is an example of a tidy dataset:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="tidy-data-and-combining-tables.html#cb3-1" tabindex="-1"></a><span class="fu">head</span>(election_results)</span></code></pre></div>
<pre><code>##          candidate state   votes total_votes
## 1: Hillary Clinton    CA 5931283     9631972
## 2:    Donald Trump    CA 3184721     9631972
## 3:    Gary Johnson    CA  308392     9631972
## 4:      Jill Stein    CA  166311     9631972
## 5:  Gloria La Riva    CA   41265     9631972
## 6:    Donald Trump    FL 4605515     9386750</code></pre>
<p>Each row represents a state and a candidate with each of the four values related to these states stored in the four variables: candidate, state, votes, and total_votes.</p>
</div>
<div id="advantages-of-tidy-data" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Advantages of tidy data<a href="tidy-data-and-combining-tables.html#advantages-of-tidy-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Organizing data in a tidy fashion reduces the burden to frequently reorganize the data. In particular, the advantages are:</p>
<ul>
<li>Easier manipulation using <code>data.table</code> commands such as sub-setting by rows and columns, as well as <code>by</code> operations</li>
<li>Vectorized operations become easier to use</li>
<li>Many other tools work better with tidy data, including plotting functions, hypothesis testing functions, and modeling functions such as linear regression. These advantages will become striking in the following chapters.</li>
</ul>
</div>
<div id="common-signs-of-untidy-datasets" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Common signs of untidy datasets<a href="tidy-data-and-combining-tables.html#common-signs-of-untidy-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Often, untidy datasets can be identified by one or more of the following issues <span class="citation">(<a href="#ref-Wickham2014">Wickham 2014</a>)</span>:</p>
<ul>
<li>Column headers are values, not variable names</li>
<li>Multiple variables are stored in one column</li>
<li>Variables are stored in both rows and columns</li>
<li>A single observational unit is stored in multiple tables</li>
</ul>
<p><span class="citation">Wickham (<a href="#ref-Wickham2014">2014</a>)</span> furthermore mentions “Multiple types of observational units stored in the same table” as a sign of untidy data.
This point is discussed in Section <a href="tidy-data-and-combining-tables.html#tidy-not-unique">3.6</a>.</p>
<!-- We will show this advantages with the following example: -->
<!-- ```{r, echo = FALSE} -->
<!-- dt <- table1 -->
<!-- ``` -->
<!-- ```{r} -->
<!-- head(dt) -->
<!-- ``` -->
<!-- As stated before, tidy data can be easily manipulated. For example in the table above we can easily compute the percentage of votes given to a candidate in a particular state using the following commands: -->
<!--   ```{r} -->
<!-- # Compute percentage -->
<!-- dt[, percentage := votes / total_votes * 100] # vectorized operations; dt is modified -->
<!-- head(dt) -->
<!-- # Compute total votes per candidate -->
<!-- dt[, .(votes = sum(votes)), by = candidate] # note that this does not modify dt -->
<!-- ``` -->
<!-- ```{r, echo = FALSE} -->
<!-- dt_simple <- dt[candidate%in%c("Hillary Clinton", "Donald Trump") & state%in%c("CA", "FL")] -->
<!-- ``` -->
<!-- this would raise many questions, not the simplest plot, ggplot is complicated, etc. Also, a bit political. -->
<!-- Additionally, tidy data works better with many packages like ggplot2 which we are going to use in this course. -->
<!-- For the sake of simplicity of the plot we use data for the top candidates in selected states (California and Florida).  -->
<!-- ```{r leture05-ggplot-tidy-data-alternate} -->
<!-- ggplot(dt_simple, aes(state, votes, fill=candidate)) +  -->
<!--      geom_bar(position="dodge", stat="identity") -->
<!-- ``` -->
</div>
</div>
<div id="tidying-up-datasets" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Tidying up datasets<a href="tidy-data-and-combining-tables.html#tidying-up-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this part of the chapter, we show how to transform untidy datasets into tidy ones. To this end, we will present some of the most often encountered untidy formats and present specific solutions to each of them.</p>
<div id="melting-wide-to-long" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Melting (wide to long)<a href="tidy-data-and-combining-tables.html#melting-wide-to-long" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One of the most used operations to obtain tidy data is to transform a wide table into a long table. This operation, which transforms a wide table into a long table is called melting, by analogy with melting a piece of metal. It is useful in particular when data is untidy because column headers are values, and not variable names.</p>
<p>As an example, consider the table below which reports vote counts for two US states, California and Florida. In this table, the column names CA and FL are values of the variable <em>state</em>. Therefore, we can say that this table is in an untidy format:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="tidy-data-and-combining-tables.html#cb5-1" tabindex="-1"></a>table4</span></code></pre></div>
<pre><code>##          candidate      CA      FL
## 1: Hillary Clinton 5931283 4485745
## 2:    Donald Trump 3184721 4605515
## 3:    Gary Johnson  308392  206007
## 4:      Jill Stein  166311   64019</code></pre>
<p><img src="assets/img/lec05_tidy-gather_alternate.png" alt="Melting the election dataset" />
This can be achieved by using the <strong>data.table</strong> function <code>melt()</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="tidy-data-and-combining-tables.html#cb7-1" tabindex="-1"></a><span class="fu">melt</span>(table4,</span>
<span id="cb7-2"><a href="tidy-data-and-combining-tables.html#cb7-2" tabindex="-1"></a>     <span class="at">id.vars =</span> <span class="st">&quot;candidate&quot;</span>,</span>
<span id="cb7-3"><a href="tidy-data-and-combining-tables.html#cb7-3" tabindex="-1"></a>     <span class="at">measure.vars =</span> <span class="fu">c</span>(<span class="st">&quot;CA&quot;</span>, <span class="st">&quot;FL&quot;</span>),</span>
<span id="cb7-4"><a href="tidy-data-and-combining-tables.html#cb7-4" tabindex="-1"></a>     <span class="at">variable.name =</span> <span class="st">&quot;state&quot;</span>,</span>
<span id="cb7-5"><a href="tidy-data-and-combining-tables.html#cb7-5" tabindex="-1"></a>     <span class="at">value.name =</span> <span class="st">&quot;votes&quot;</span>)</span></code></pre></div>
<pre><code>##          candidate state   votes
## 1: Hillary Clinton    CA 5931283
## 2:    Donald Trump    CA 3184721
## 3:    Gary Johnson    CA  308392
## 4:      Jill Stein    CA  166311
## 5: Hillary Clinton    FL 4485745
## 6:    Donald Trump    FL 4605515
## 7:    Gary Johnson    FL  206007
## 8:      Jill Stein    FL   64019</code></pre>
<p>We remark that the previous chunk of code would work as well without specifying either <code>measure.vars</code> OR <code>id.vars</code>. However, specifying neither will not work.</p>
<p>When melting, all values in the columns specified by the <code>measure.vars</code> argument are gathered into one column whose name can be specified using the <code>value.name</code> argument. Additionally, a new column, which can be named using the argument <code>variable.name</code>, is created containing all values which were previously stored in the column names.</p>
<p>Now we have a table in a tidy format where a row represents the number of votes for a candidate in a state. The new table also makes clear that the quantities are numbers of votes thanks to the column name.</p>
</div>
<div id="casting-long-to-wide" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Casting (long to wide)<a href="tidy-data-and-combining-tables.html#casting-long-to-wide" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The other way around also happens frequently. It is helpful when multiple variables are stored in one column. In the table below, multiple values, namely the number of votes for a candidate and the total number of votes, are reported in one column. It is not easy to compute the percentage of votes given to a candidate in this format. To tidy up this table we have to separate those values into two columns:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="tidy-data-and-combining-tables.html#cb9-1" tabindex="-1"></a>table2</span></code></pre></div>
<pre><code>##          candidate state        type   value
## 1: Hillary Clinton    CA       votes 5931283
## 2: Hillary Clinton    CA total_votes 9631972
## 3:    Donald Trump    CA       votes 3184721
## 4:    Donald Trump    CA total_votes 9631972
## 5:    Gary Johnson    CA       votes  308392
## 6:    Gary Johnson    CA total_votes 9631972</code></pre>
<div class="float">
<img src="assets/img/lec05_tidy-spread_alternate.png" alt="Casting the election dataset" />
<div class="figcaption">Casting the election dataset</div>
</div>
<p>This operation, which transforms a long table into a wide table is called casting, following up with the metal forging analogy employed with the term “melting”.</p>
<p>Data table casting can be achieved using the <code>dcast()</code> function whose most frequent usage is:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="tidy-data-and-combining-tables.html#cb11-1" tabindex="-1"></a><span class="fu">dcast</span>(data, formula, <span class="at">value.var =</span> <span class="fu">guess</span>(data))</span></code></pre></div>
<p>Casting requires specifying which column contains the categories by which the new columns should be created. This is provided via the <code>formula</code> argument. Setting <code>formula</code> to be <code>... ~ type</code> instructs <code>dcast</code> to create new columns in the table containing the categories named in the column “type” and that all other columns will get rearranged accordingly. Furthermore, we force the argument <code>value.var</code>, which refers to which column the values have to be extracted from, to be “value” rather than letting <code>dcast</code> guessing as by default. The call is then:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="tidy-data-and-combining-tables.html#cb12-1" tabindex="-1"></a><span class="fu">dcast</span>(table2, ... <span class="sc">~</span> type,  <span class="at">value.var =</span> <span class="st">&quot;value&quot;</span>)</span></code></pre></div>
<pre><code>##          candidate state total_votes   votes
## 1:    Donald Trump    CA     9631972 3184721
## 2:    Gary Johnson    CA     9631972  308392
## 3: Hillary Clinton    CA     9631972 5931283</code></pre>
<p>The function <code>dcast</code> has many more arguments. Also the formula can allow for more sophisticated ways to handle the columns. We refer to the “datatable-reshape” vignette (see section Resources) and the help of <code>dcast()</code> for more details.</p>
</div>
<div id="separating-columns" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Separating columns<a href="tidy-data-and-combining-tables.html#separating-columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes single variables can be spread across multiple columns as in the following table.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="tidy-data-and-combining-tables.html#cb14-1" tabindex="-1"></a><span class="do">## One column contains multiple variables</span></span>
<span id="cb14-2"><a href="tidy-data-and-combining-tables.html#cb14-2" tabindex="-1"></a><span class="fu">print</span>(table3)</span></code></pre></div>
<pre><code>##          candidate state      proportion
## 1: Hillary Clinton    CA 5931283/9631972
## 2:    Donald Trump    CA 3184721/9631972
## 3:    Gary Johnson    CA  308392/9631972</code></pre>
<p>The number of votes per candidate is displayed in the numerator of the <code>proportion</code> column and the total number in the denominator.</p>
<p>We can solve both problems using the <code>separate()</code> function from the <code>tidyr</code> package. The code below splits up the <code>proportion</code> column into two columns, one containing the votes and the other one containing the total votes. By default, columns are separated by any non-alphanumerical character (such as “,”, “;”, “/”,…).</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="tidy-data-and-combining-tables.html#cb16-1" tabindex="-1"></a><span class="fu">separate</span>(table3, <span class="at">col =</span> proportion,</span>
<span id="cb16-2"><a href="tidy-data-and-combining-tables.html#cb16-2" tabindex="-1"></a>         <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;votes&quot;</span>, <span class="st">&quot;total_votes&quot;</span>))</span></code></pre></div>
<pre><code>##         candidate state   votes total_votes
## 1 Hillary Clinton    CA 5931283     9631972
## 2    Donald Trump    CA 3184721     9631972
## 3    Gary Johnson    CA  308392     9631972</code></pre>
<p><img src="assets/img/lec05_tidy-separate_alternate.png" alt="Separated election dataset" />
The drawing above visualizes the operation performed above.</p>
</div>
<div id="uniting-columns" class="section level3 hasAnchor" number="3.3.4">
<h3><span class="header-section-number">3.3.4</span> Uniting columns<a href="tidy-data-and-combining-tables.html#uniting-columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this example the first and last names are separated columns without a real need for it (we will not be interested in computing any statistics over all Hillary’s):</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="tidy-data-and-combining-tables.html#cb18-1" tabindex="-1"></a>table5</span></code></pre></div>
<pre><code>##       name surname state   votes total_votes
## 1: Hillary Clinton    CA 5931283     9631972
## 2:  Donald   Trump    CA 3184721     9631972
## 3:    Gary Johnson    CA  308392     9631972
## 4:    Jill   Stein    CA  166311     9631972
## 5:  Gloria La Riva    CA   41265     9631972</code></pre>
<p>We unite multiple variables into a single variable with the function <code>unite()</code> from the <code>tidyr</code> package:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="tidy-data-and-combining-tables.html#cb20-1" tabindex="-1"></a><span class="fu">unite</span>(table5, <span class="at">col =</span> candidate, name, surname, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>##         candidate state   votes total_votes
## 1 Hillary Clinton    CA 5931283     9631972
## 2    Donald Trump    CA 3184721     9631972
## 3    Gary Johnson    CA  308392     9631972
## 4      Jill Stein    CA  166311     9631972
## 5  Gloria La Riva    CA   41265     9631972</code></pre>
<p>The <code>sep</code> argument defines the separating character(s) used to unite the different column values into one.</p>
<div class="float">
<img src="assets/img/lec05_tidy-unite_alternate.png" alt="United election dataset" />
<div class="figcaption">United election dataset</div>
</div>
</div>
<div id="advanced-columns-containing-sets-of-values" class="section level3 hasAnchor" number="3.3.5">
<h3><span class="header-section-number">3.3.5</span> Advanced: Columns containing sets of values<a href="tidy-data-and-combining-tables.html#advanced-columns-containing-sets-of-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Kaggle, a machine learning platform, conducts a yearly survey among its users. Below are a few columns of the answers from the 2017 survey. In those columns, we observe another type of untidy data. In this survey, multiple choice questions were asked from which multiple answers could be selected. For each individual the selected answers are concatenated into a string.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="tidy-data-and-combining-tables.html#cb22-1" tabindex="-1"></a><span class="fu">options</span>(<span class="at">width =</span> <span class="dv">60</span>)</span>
<span id="cb22-2"><a href="tidy-data-and-combining-tables.html#cb22-2" tabindex="-1"></a>survey <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">&#39;extdata/kaggle-survey-2017/multipleChoiceResponses.csv&#39;</span>)</span>
<span id="cb22-3"><a href="tidy-data-and-combining-tables.html#cb22-3" tabindex="-1"></a>survey[, .(LanguageRecommendationSelect, LearningPlatformSelect, PastJobTitlesSelect)]</span></code></pre></div>
<pre><code>##        LanguageRecommendationSelect
##     1:                           F#
##     2:                       Python
##     3:                            R
##     4:                       Python
##     5:                       Python
##    ---                             
## 16712:                             
## 16713:                       Python
## 16714:                             
## 16715:                             
## 16716:                             
##                                                                                              LearningPlatformSelect
##     1:                                                           College/University,Conferences,Podcasts,Trade book
##     2:                                                                                                       Kaggle
##     3:                                                Arxiv,College/University,Kaggle,Online courses,YouTube Videos
##     4: Blogs,College/University,Conferences,Friends network,Official documentation,Online courses,Personal Projects
##     5:                                                                            Arxiv,Conferences,Kaggle,Textbook
##    ---                                                                                                             
## 16712:                                                                                                             
## 16713:                        Kaggle,Non-Kaggle online communities,Online courses,Stack Overflow Q&amp;A,YouTube Videos
## 16714:                                                                                                             
## 16715:                                                                                                             
## 16716:                                                                                                             
##                                                                                                                                                               PastJobTitlesSelect
##     1:                                                                                                                                   Predictive Modeler,Programmer,Researcher
##     2:                                                                                                                                       Software Developer/Software Engineer
##     3:                                                                                                                                   Data Scientist,Machine Learning Engineer
##     4:                                                                                      Business Analyst,Operations Research Practitioner,Predictive Modeler,Programmer,Other
##     5: Computer Scientist,Data Analyst,Data Miner,Data Scientist,Engineer,Machine Learning Engineer,Predictive Modeler,Programmer,Researcher,Software Developer/Software Engineer
##    ---                                                                                                                                                                           
## 16712:                                                                                                                                   Researcher,I haven&#39;t started working yet
## 16713:                                                                                                                            Programmer,Software Developer/Software Engineer
## 16714:                                                                                                                                                                           
## 16715:                                                                                                                                                                           
## 16716:</code></pre>
<!-- Assume that we want to find out how many of the survey participants acquired their data science skills in college or university. For this, we need to search within the string containing all answers of a participant. -->
<!-- A simple command to search within strings is `grep(pattern, x)`. We can use it for any pattern of characters within a string `x`. -->
<!-- For example: -->
<!-- ```{r} -->
<!-- grep('College',    'Blogs,College/University,Conferences,Friends network') -->
<!-- ``` -->
<!-- ```{r} -->
<!-- grep('Online courses',     'Blogs,College/University,Conferences,Friends network') -->
<!-- ``` -->
<!-- We can use this directly in our selection of rows, to obtain all rows containing a certain course format. -->
<!-- ```{r} -->
<!-- survey[grep("College/University", LearningPlatformSelect), .N] -->
<!-- ``` -->
<!-- This way we can see that over 3300 of all survey participants answered in the survey that they acquired their data science skills in "College/University". -->
<!-- #### Melting columns with variable length -->
<p>Below is one solution of how the <code>LearningPlatformSelect</code> column could be transformed into a tidy format. We make use here of the handy pipe operator denoted <code>%&gt;%</code> from the <code>magrittr</code> package (See Appendix <a href="appendix-r-programming.html#pipe">B.1</a>).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="tidy-data-and-combining-tables.html#cb24-1" tabindex="-1"></a>survey_split <span class="ot">&lt;-</span> survey[,<span class="fu">tstrsplit</span>(LearningPlatformSelect, <span class="st">&#39;,&#39;</span>)]</span>
<span id="cb24-2"><a href="tidy-data-and-combining-tables.html#cb24-2" tabindex="-1"></a>survey_split[, individual <span class="sc">:=</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(survey)]</span>
<span id="cb24-3"><a href="tidy-data-and-combining-tables.html#cb24-3" tabindex="-1"></a>LearningPlatformMelt <span class="ot">&lt;-</span> <span class="fu">melt</span>(survey_split, </span>
<span id="cb24-4"><a href="tidy-data-and-combining-tables.html#cb24-4" tabindex="-1"></a>                             <span class="at">id.vars =</span> <span class="st">&#39;individual&#39;</span>,</span>
<span id="cb24-5"><a href="tidy-data-and-combining-tables.html#cb24-5" tabindex="-1"></a>                             <span class="at">na.rm =</span> <span class="cn">TRUE</span>)[, variable <span class="sc">:=</span> <span class="cn">NULL</span>]</span>
<span id="cb24-6"><a href="tidy-data-and-combining-tables.html#cb24-6" tabindex="-1"></a></span>
<span id="cb24-7"><a href="tidy-data-and-combining-tables.html#cb24-7" tabindex="-1"></a>LearningPlatformMelt[<span class="fu">order</span>(individual)] <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="at">n=</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>##    individual              value
## 1:          1 College/University
## 2:          1        Conferences
## 3:          1           Podcasts
## 4:          1         Trade book
## 5:          2             Kaggle</code></pre>
</div>
</div>
<div id="concatenating-tables" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Concatenating tables<a href="tidy-data-and-combining-tables.html#concatenating-tables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One frequently has to concatenate (i.e. append) tables with a same format. Such tables may already be loaded into a list or shall be read from multiple files.</p>
<p>For instance, assume a service generates a new file of data per day in a given directory. One is interested in analyzing the files of multiple days jointly. This requires to list all files of the directory, to read each file and to concatenate them into one.</p>
<p>Here is an example with daily COVID-19 data. We first get all file names of the directory into a character vector called <code>files</code>:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="tidy-data-and-combining-tables.html#cb26-1" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&#39;path_to_your_directory&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="tidy-data-and-combining-tables.html#cb27-1" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&#39;extdata/cov_concatenate&#39;</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-2"><a href="tidy-data-and-combining-tables.html#cb27-2" tabindex="-1"></a><span class="fu">head</span>(files)</span></code></pre></div>
<pre><code>## [1] &quot;extdata/cov_concatenate/covid_cases_01_03_2020.csv&quot;
## [2] &quot;extdata/cov_concatenate/covid_cases_02_03_2020.csv&quot;
## [3] &quot;extdata/cov_concatenate/covid_cases_03_03_2020.csv&quot;
## [4] &quot;extdata/cov_concatenate/covid_cases_04_03_2020.csv&quot;
## [5] &quot;extdata/cov_concatenate/covid_cases_05_03_2020.csv&quot;
## [6] &quot;extdata/cov_concatenate/covid_cases_06_03_2020.csv&quot;</code></pre>
<p>Next, we load all file contents with <code>fread</code> using <code>lapply</code>, which passes the function <code>fread</code> to every element in the list <code>files</code> and returns a list of data.tables called <code>tables</code>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="tidy-data-and-combining-tables.html#cb29-1" tabindex="-1"></a><span class="co"># name the list elements by the filenames </span></span>
<span id="cb29-2"><a href="tidy-data-and-combining-tables.html#cb29-2" tabindex="-1"></a><span class="fu">names</span>(files) <span class="ot">&lt;-</span> <span class="fu">basename</span>(files)</span>
<span id="cb29-3"><a href="tidy-data-and-combining-tables.html#cb29-3" tabindex="-1"></a></span>
<span id="cb29-4"><a href="tidy-data-and-combining-tables.html#cb29-4" tabindex="-1"></a><span class="co"># read all files at once into a list of data.tables</span></span>
<span id="cb29-5"><a href="tidy-data-and-combining-tables.html#cb29-5" tabindex="-1"></a>tables <span class="ot">&lt;-</span> <span class="fu">lapply</span>(files, fread)</span></code></pre></div>
<p>Let us now look at the first table:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="tidy-data-and-combining-tables.html#cb30-1" tabindex="-1"></a><span class="fu">head</span>(tables[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>##    cases deaths countriesAndTerritories geoId
## 1:    54      0                 Germany    DE
## 2:   240      8                   Italy    IT
##    countryterritoryCode popData2019 continentExp
## 1:                  DEU    83019213       Europe
## 2:                  ITA    60359546       Europe
##    Cumulative_number_for_14_days_of_COVID-19_cases_per_100000
## 1:                                                  0.1156359
## 2:                                                  1.8638311</code></pre>
<p>We notice that the variable <code>date</code> is only encoded in the file path so that we additionally need to introduce a new variable in the new table, which defines, from which list the original table came from. We do this to avoid losing information. In this manner, we can state which case / population numbers came from which country.</p>
<p>To do so, we can use the <code>data.table</code> function <code>rbindlist()</code> which gives us the option to introduce a new column <code>idcol</code> containing the list names:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="tidy-data-and-combining-tables.html#cb32-1" tabindex="-1"></a><span class="co"># bind all tables into one using rbindlist, </span></span>
<span id="cb32-2"><a href="tidy-data-and-combining-tables.html#cb32-2" tabindex="-1"></a><span class="co"># keeping the list names (the filenames) as an id column. </span></span>
<span id="cb32-3"><a href="tidy-data-and-combining-tables.html#cb32-3" tabindex="-1"></a>dt <span class="ot">&lt;-</span> <span class="fu">rbindlist</span>(tables, <span class="at">idcol =</span> <span class="st">&#39;filepath&#39;</span>)</span>
<span id="cb32-4"><a href="tidy-data-and-combining-tables.html#cb32-4" tabindex="-1"></a><span class="fu">head</span>(dt)</span></code></pre></div>
<pre><code>##                      filepath cases deaths
## 1: covid_cases_01_03_2020.csv    54      0
## 2: covid_cases_01_03_2020.csv   240      8
## 3: covid_cases_02_03_2020.csv    18      0
## 4: covid_cases_02_03_2020.csv   561      6
## 5: covid_cases_03_03_2020.csv    28      0
## 6: covid_cases_03_03_2020.csv   347     17
##    countriesAndTerritories geoId countryterritoryCode
## 1:                 Germany    DE                  DEU
## 2:                   Italy    IT                  ITA
## 3:                 Germany    DE                  DEU
## 4:                   Italy    IT                  ITA
## 5:                 Germany    DE                  DEU
## 6:                   Italy    IT                  ITA
##    popData2019 continentExp
## 1:    83019213       Europe
## 2:    60359546       Europe
## 3:    83019213       Europe
## 4:    60359546       Europe
## 5:    83019213       Europe
## 6:    60359546       Europe
##    Cumulative_number_for_14_days_of_COVID-19_cases_per_100000
## 1:                                                  0.1156359
## 2:                                                  1.8638311
## 3:                                                  0.1373176
## 4:                                                  2.7932616
## 5:                                                  0.1710447
## 6:                                                  3.3681499</code></pre>
</div>
<div id="merging-tables" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Merging tables<a href="tidy-data-and-combining-tables.html#merging-tables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Merging two data tables into one by common column(s) is frequently needed. This can be achieved using the <code>merge</code> function whose core signature is:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="tidy-data-and-combining-tables.html#cb34-1" tabindex="-1"></a><span class="fu">merge</span>(</span>
<span id="cb34-2"><a href="tidy-data-and-combining-tables.html#cb34-2" tabindex="-1"></a>  x, y,                                  <span class="co"># tables to merge</span></span>
<span id="cb34-3"><a href="tidy-data-and-combining-tables.html#cb34-3" tabindex="-1"></a>  <span class="at">by =</span> <span class="cn">NULL</span>, <span class="at">by.x =</span> <span class="cn">NULL</span>, <span class="at">by.y =</span> <span class="cn">NULL</span>,   <span class="co"># by which columns</span></span>
<span id="cb34-4"><a href="tidy-data-and-combining-tables.html#cb34-4" tabindex="-1"></a>  <span class="at">all =</span> <span class="cn">FALSE</span>, <span class="at">all.x =</span> all, <span class="at">all.y =</span> all  <span class="co"># types of merge</span></span>
<span id="cb34-5"><a href="tidy-data-and-combining-tables.html#cb34-5" tabindex="-1"></a>)</span></code></pre></div>
<p>The four types of merges (also commonly called joins) are:</p>
<ul>
<li><strong>Inner (default)</strong>: consider only rows with matching values in the <code>by</code> columns.</li>
<li><strong>Outer or full (all)</strong>: return all rows and columns from <code>x</code> and <code>y</code>. If there are no matching values, return NAs.</li>
<li><strong>Left (all.x)</strong>: consider all rows from <code>x</code>, even if they have no matching row in <code>y</code>.</li>
<li><strong>Right (all.y)</strong>: consider all rows from <code>y</code>, even if they have no matching row in <code>x</code>.</li>
</ul>
<p>We now provide examples of each type using the following made up tables:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="tidy-data-and-combining-tables.html#cb35-1" tabindex="-1"></a>dt1 <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">p_id =</span> <span class="fu">c</span>(<span class="st">&quot;G008&quot;</span>, <span class="st">&quot;F027&quot;</span>, <span class="st">&quot;L051&quot;</span>), </span>
<span id="cb35-2"><a href="tidy-data-and-combining-tables.html#cb35-2" tabindex="-1"></a>                  <span class="at">value =</span> <span class="fu">rnorm</span>(<span class="dv">3</span>)) </span>
<span id="cb35-3"><a href="tidy-data-and-combining-tables.html#cb35-3" tabindex="-1"></a>dt1</span></code></pre></div>
<pre><code>##    p_id      value
## 1: G008 -1.4149366
## 2: F027  0.1814549
## 3: L051  0.4557288</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="tidy-data-and-combining-tables.html#cb37-1" tabindex="-1"></a>dt2 <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">p_id =</span> <span class="fu">c</span>(<span class="st">&quot;G008&quot;</span>, <span class="st">&quot;F027&quot;</span>, <span class="st">&quot;U093&quot;</span>), </span>
<span id="cb37-2"><a href="tidy-data-and-combining-tables.html#cb37-2" tabindex="-1"></a>                  <span class="at">country =</span> <span class="fu">c</span>(<span class="st">&quot;Germany&quot;</span>, <span class="st">&quot;France&quot;</span>, <span class="st">&quot;USA&quot;</span>)) </span>
<span id="cb37-3"><a href="tidy-data-and-combining-tables.html#cb37-3" tabindex="-1"></a>dt2</span></code></pre></div>
<pre><code>##    p_id country
## 1: G008 Germany
## 2: F027  France
## 3: U093     USA</code></pre>
<div id="inner-merge" class="section level3 hasAnchor" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Inner merge<a href="tidy-data-and-combining-tables.html#inner-merge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An inner merge returns only rows with matching values in the <code>by</code> columns and discards all other rows:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="tidy-data-and-combining-tables.html#cb39-1" tabindex="-1"></a><span class="co"># Inner merge, default one, all = FALSE</span></span>
<span id="cb39-2"><a href="tidy-data-and-combining-tables.html#cb39-2" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">merge</span>(dt1, dt2, <span class="at">by =</span> <span class="st">&quot;p_id&quot;</span>, <span class="at">all =</span> <span class="cn">FALSE</span>)</span>
<span id="cb39-3"><a href="tidy-data-and-combining-tables.html#cb39-3" tabindex="-1"></a>m   </span></code></pre></div>
<pre><code>##    p_id      value country
## 1: F027  0.1814549  France
## 2: G008 -1.4149366 Germany</code></pre>
<p>Note that the row order got changed after the merging. To prevent this and, therefore, to keep the original ordering we can use the argument <code>sort</code> and set it to <code>FALSE</code>:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="tidy-data-and-combining-tables.html#cb41-1" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">merge</span>(dt1, dt2, <span class="at">by =</span> <span class="st">&quot;p_id&quot;</span>, <span class="at">all =</span> <span class="cn">FALSE</span>, <span class="at">sort =</span> <span class="cn">FALSE</span>)</span>
<span id="cb41-2"><a href="tidy-data-and-combining-tables.html#cb41-2" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##    p_id      value country
## 1: G008 -1.4149366 Germany
## 2: F027  0.1814549  France</code></pre>
<p>Note that the column order is preserved after merging.</p>
</div>
<div id="outer-full-merge" class="section level3 hasAnchor" number="3.5.2">
<h3><span class="header-section-number">3.5.2</span> Outer (full) merge<a href="tidy-data-and-combining-tables.html#outer-full-merge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An outer merge returns all rows and columns from <code>x</code> and <code>y</code>. If there are no matching values in <code>p_id</code>, it yields missing values (<code>NA</code>):</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="tidy-data-and-combining-tables.html#cb43-1" tabindex="-1"></a><span class="co"># Outer (full) merge, all = TRUE</span></span>
<span id="cb43-2"><a href="tidy-data-and-combining-tables.html#cb43-2" tabindex="-1"></a><span class="fu">merge</span>(dt1, dt2, <span class="at">by =</span> <span class="st">&quot;p_id&quot;</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##    p_id      value country
## 1: F027  0.1814549  France
## 2: G008 -1.4149366 Germany
## 3: L051  0.4557288    &lt;NA&gt;
## 4: U093         NA     USA</code></pre>
</div>
<div id="left-merge" class="section level3 hasAnchor" number="3.5.3">
<h3><span class="header-section-number">3.5.3</span> Left merge<a href="tidy-data-and-combining-tables.html#left-merge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Returns all rows from <code>x</code>, even if they have no matching row in <code>y</code>. Rows from <code>x</code> with no matching <code>p_id</code> in <code>y</code> lead to missing values (<code>NA</code>).</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="tidy-data-and-combining-tables.html#cb45-1" tabindex="-1"></a><span class="co"># Left merge, all.x = TRUE</span></span>
<span id="cb45-2"><a href="tidy-data-and-combining-tables.html#cb45-2" tabindex="-1"></a><span class="fu">merge</span>(dt1, dt2, <span class="at">by =</span> <span class="st">&quot;p_id&quot;</span>, <span class="at">all.x =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##    p_id      value country
## 1: F027  0.1814549  France
## 2: G008 -1.4149366 Germany
## 3: L051  0.4557288    &lt;NA&gt;</code></pre>
</div>
<div id="right-merge" class="section level3 hasAnchor" number="3.5.4">
<h3><span class="header-section-number">3.5.4</span> Right merge<a href="tidy-data-and-combining-tables.html#right-merge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Returns all rows from <code>y</code>, even if they have no matching row in <code>x</code>. Rows from <code>y</code> with no matching <code>p_id</code> in <code>x</code> lead to missing values (<code>NA</code>).</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="tidy-data-and-combining-tables.html#cb47-1" tabindex="-1"></a><span class="co"># Right, all.y = TRUE</span></span>
<span id="cb47-2"><a href="tidy-data-and-combining-tables.html#cb47-2" tabindex="-1"></a><span class="fu">merge</span>(dt1, dt2, <span class="at">by =</span> <span class="st">&quot;p_id&quot;</span>, <span class="at">all.y =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##    p_id      value country
## 1: F027  0.1814549  France
## 2: G008 -1.4149366 Germany
## 3: U093         NA     USA</code></pre>
</div>
<div id="merging-by-several-columns" class="section level3 hasAnchor" number="3.5.5">
<h3><span class="header-section-number">3.5.5</span> Merging by several columns<a href="tidy-data-and-combining-tables.html#merging-by-several-columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Merging can also be done using several columns. Here are two made-up tables to illustrate this use case:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="tidy-data-and-combining-tables.html#cb49-1" tabindex="-1"></a>dt1 <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">firstname =</span> <span class="fu">c</span>(<span class="st">&quot;Alice&quot;</span>, <span class="st">&quot;Alice&quot;</span>, <span class="st">&quot;Bob&quot;</span>), </span>
<span id="cb49-2"><a href="tidy-data-and-combining-tables.html#cb49-2" tabindex="-1"></a>                  <span class="at">lastname =</span> <span class="fu">c</span>(<span class="st">&quot;Coop&quot;</span>, <span class="st">&quot;Smith&quot;</span>, <span class="st">&quot;Smith&quot;</span>), <span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb49-3"><a href="tidy-data-and-combining-tables.html#cb49-3" tabindex="-1"></a>dt1</span></code></pre></div>
<pre><code>##    firstname lastname x
## 1:     Alice     Coop 1
## 2:     Alice    Smith 2
## 3:       Bob    Smith 3</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="tidy-data-and-combining-tables.html#cb51-1" tabindex="-1"></a>dt2 <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">firstname =</span> <span class="fu">c</span>(<span class="st">&quot;Alice&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Bob&quot;</span>), </span>
<span id="cb51-2"><a href="tidy-data-and-combining-tables.html#cb51-2" tabindex="-1"></a>                  <span class="at">lastname =</span> <span class="fu">c</span>(<span class="st">&quot;Coop&quot;</span>, <span class="st">&quot;Marley&quot;</span>, <span class="st">&quot;Smith&quot;</span>),</span>
<span id="cb51-3"><a href="tidy-data-and-combining-tables.html#cb51-3" tabindex="-1"></a>                  <span class="at">y=</span>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb51-4"><a href="tidy-data-and-combining-tables.html#cb51-4" tabindex="-1"></a>dt2</span></code></pre></div>
<pre><code>##    firstname lastname y
## 1:     Alice     Coop A
## 2:       Bob   Marley B
## 3:       Bob    Smith C</code></pre>
<p>We merge now <code>dt1</code> and <code>dt2</code> by first name and last name:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="tidy-data-and-combining-tables.html#cb53-1" tabindex="-1"></a><span class="fu">merge</span>(dt1, dt2, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;firstname&quot;</span>, <span class="st">&quot;lastname&quot;</span>))</span></code></pre></div>
<pre><code>##    firstname lastname x y
## 1:     Alice     Coop 1 A
## 2:       Bob    Smith 3 C</code></pre>
<p>Notice that merging by first name only gives a different result (as expected):</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="tidy-data-and-combining-tables.html#cb55-1" tabindex="-1"></a><span class="fu">merge</span>(dt1, dt2, <span class="at">by=</span><span class="st">&quot;firstname&quot;</span>)</span></code></pre></div>
<pre><code>##    firstname lastname.x x lastname.y y
## 1:     Alice       Coop 1       Coop A
## 2:     Alice      Smith 2       Coop A
## 3:       Bob      Smith 3     Marley B
## 4:       Bob      Smith 3      Smith C</code></pre>
<p>Also notice that in this case the merge tables has a column lastname.x and a column lastname.y. This is because the two original data tables have a column named the same way (“lastname”), but this column was not part of the “by” argument. Hence, it is assumed that they do not necessarily correspond to the same variable. Hence, they receive distinct names in the returned table.</p>
</div>
</div>
<div id="tidy-not-unique" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Tidy representations are not unique<a href="tidy-data-and-combining-tables.html#tidy-not-unique" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While untidy data should be avoided, there can be multiple tidy representations for a particular dataset. We explain this regarding i) alternative forms of a single table and ii) the practical utility of non-normalized representations (i.e. with redundant information).</p>
<div id="alternative-tidy-forms-of-a-table" class="section level3 hasAnchor" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> Alternative tidy forms of a table<a href="tidy-data-and-combining-tables.html#alternative-tidy-forms-of-a-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There can be alternative tidy representations for a same table.
Here is an example based on Fisher’s Iris dataset. This classic dataset contains measurements of 4 different attributes for 150 iris flowers from 3 different species. See <a href="https://en.wikipedia.org/wiki/Iris_flower_data_set" class="uri">https://en.wikipedia.org/wiki/Iris_flower_data_set</a>.</p>
<p><img src="assets/img/lec03_iris.png" width="40%" style="display: block; margin: auto;" /></p>
<p>Here is one tidy representation where each row represents one flower:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="tidy-data-and-combining-tables.html#cb57-1" tabindex="-1"></a><span class="co"># Iris dataset, usual representation</span></span>
<span id="cb57-2"><a href="tidy-data-and-combining-tables.html#cb57-2" tabindex="-1"></a>iris_dt[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,]</span></code></pre></div>
<pre><code>##    Flower Sepal.Length Sepal.Width Petal.Length Petal.Width
## 1:    F_1          5.1         3.5          1.4         0.2
## 2:    F_2          4.9         3.0          1.4         0.2
## 3:    F_3          4.7         3.2          1.3         0.2
##    Species
## 1:  setosa
## 2:  setosa
## 3:  setosa</code></pre>
<p>Here is another tidy representation where each row represents one measurement:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="tidy-data-and-combining-tables.html#cb59-1" tabindex="-1"></a><span class="co"># Another tidy representation</span></span>
<span id="cb59-2"><a href="tidy-data-and-combining-tables.html#cb59-2" tabindex="-1"></a>iris_melt[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,]</span></code></pre></div>
<pre><code>##    Flower Species    Attribute value
## 1:    F_1  setosa Sepal.Length   5.1
## 2:    F_2  setosa Sepal.Length   4.9
## 3:    F_3  setosa Sepal.Length   4.7</code></pre>
<p>Both representations are tidy and can be more or less useful depending on the downstream analysis. For instance the first representation, which is wide, is handy to assess the relationship between sepal length and sepal width, say by plotting one against the other one or by computing their correlations. The second representation, which is long, can be useful to compute means by attributes or by attributes and species. In the wide form, computing those group means would require to select columns by names which is tedious and leads to not-easily maintainable code. The decisive criteria between using one or the other tidy representation is the definition on what is considered as an observation in the use case.</p>
</div>
<div id="on-multiple-types-of-observational-units-in-the-same-table" class="section level3 hasAnchor" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> On multiple types of observational units in the same table<a href="tidy-data-and-combining-tables.html#on-multiple-types-of-observational-units-in-the-same-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another important remark for handling tidy data in practice relates to the last common sign of messy datasets according to <span class="citation">Wickham (<a href="#ref-Wickham2014">2014</a>)</span>, i.e. “Multiple types of observational units are stored in the same table”. Applying this criteria actually depends on the context.</p>
<p>Consider the following table which combines product and customer data:</p>
<pre><code>##    productCode quantOrdered price customerNumber
## 1:        p018            1   450           c001
## 2:        p030            2   600           c001
## 3:        p018            1   450           c002
##    customerName state
## 1:        Smith    CA
## 2:        Smith    CA
## 3:        Lewis    AZ</code></pre>
<p>This table is tidy. Each row corresponds to an order. The columns are variables. However, it contains repetitive information: the product code, product name and its price on the one hand, the customer number, name and state on the other hand. The information could be stored in separate tables without data repetitions, namely:</p>
<ul>
<li>a consumer table:</li>
</ul>
<pre><code>##    customerNumber customerName state
## 1:           c001        Smith    CA
## 2:           c002        Lewis    AZ</code></pre>
<ul>
<li>a product table:</li>
</ul>
<pre><code>##    productCode price
## 1:        p018   450
## 2:        p030   600</code></pre>
<ul>
<li>an order table:</li>
</ul>
<pre><code>##    productCode customerNumber quantOrdered
## 1:        p018           c001            1
## 2:        p030           c001            2
## 3:        p018           c002            1</code></pre>
<p>The three-table representation, where each table has unique entries is called a normalized representation. Normalized representations ensure that no multiple types of observational units are stored in the same table. It is a good habit to have normalized representations for database back-ends because it facilitates maintenance of the data consistency by reducing redundancy. One should not enter all customer details at each order but do it one central place and link the information with a customer number.</p>
<p>However, on the data analysis side (front-end), we are not interested in maintaining a database (back-end), rather in having the desired data in a ready-to-use format which depends on our needs. To this end, the merge table is very handy and can be the common denominator of multiple analyses like:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="tidy-data-and-combining-tables.html#cb65-1" tabindex="-1"></a><span class="co"># vectorized operations e.g. total price of each order</span></span>
<span id="cb65-2"><a href="tidy-data-and-combining-tables.html#cb65-2" tabindex="-1"></a>prod_dt[, totalPrice <span class="sc">:=</span> quantOrdered <span class="sc">*</span> price]</span>
<span id="cb65-3"><a href="tidy-data-and-combining-tables.html#cb65-3" tabindex="-1"></a></span>
<span id="cb65-4"><a href="tidy-data-and-combining-tables.html#cb65-4" tabindex="-1"></a><span class="co"># group by operations, e.g. number of products per states </span></span>
<span id="cb65-5"><a href="tidy-data-and-combining-tables.html#cb65-5" tabindex="-1"></a>prod_dt[, N_prod <span class="sc">:=</span> .N, by <span class="ot">=</span> state]</span></code></pre></div>
<p>Hence, the choice of the representation (normalized or not) depends on the context: back-end or front-end.</p>
</div>
</div>
<div id="summary-1" class="section level2 hasAnchor" number="3.7">
<h2><span class="header-section-number">3.7</span> Summary<a href="tidy-data-and-combining-tables.html#summary-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By now, you should be able to:</p>
<ul>
<li>define what a tidy dataset is</li>
<li>recognize untidy data</li>
<li>perform the operations of melting and casting</li>
<li>perform the operations of uniting and splitting</li>
<li>append tables with the same format by rows</li>
<li>understand and perform the 4 merging operations</li>
</ul>
</div>
<div id="tidy-data-resources" class="section level2 hasAnchor" number="3.8">
<h2><span class="header-section-number">3.8</span> Tidy data resources<a href="tidy-data-and-combining-tables.html#tidy-data-resources" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Tidy data:
H. Wickham, Journal of Statistical Software, 2014, Volume 59, Issue 10 <a href="https://www.jstatsoft.org/v59/i10/paper" class="uri">https://www.jstatsoft.org/v59/i10/paper</a></p>
<p>Melt and cast:
<a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html" class="uri">https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html</a></p>
<!-- Stringr, A complementary package for string manipulations: -->
<!-- <https://github.com/rstudio/cheatsheets/raw/master/strings.pdf> -->
<!-- ### Advantages of non-tidy data -->
<!-- * Performance advantage using certain functions -->
<!--   + `colSums()` or `heatmap()` on matrices -->
<!-- * Field convention -->
<!-- * Memory efficiency -->
<!--   + don't worry, you should be fine with tidy-data in `data.table` -->
<!-- Interesting blog post: -->
<!--   * <http://simplystatistics.org/2016/02/17/non-tidy-data/> -->

</div>
</div>



<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Wickham2014" class="csl-entry">
Wickham, Hadley. 2014. <span>“Tidy Data.”</span> <em>Journal of Statistical Software, Articles</em> 59 (10): 1–23. <a href="https://doi.org/10.18637/jss.v059.i10">https://doi.org/10.18637/jss.v059.i10</a>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p><a href="https://www.kaggle.com/stevepalley/2016uspresidentialvotebycounty?select=pres16results.csv" class="uri">https://www.kaggle.com/stevepalley/2016uspresidentialvotebycounty?select=pres16results.csv</a><a href="tidy-data-and-combining-tables.html#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-wrangling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="low-dimensional-visualizations.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
